import{a as _,r as Y}from"./react-rfUEOKBT.js";var C=function(i,n){return Number(i.toFixed(n))},Ki=function(i,n){return n},g=function(i,n,e){e&&typeof e=="function"&&e(i,n)},Vi=function(i){return-Math.cos(i*Math.PI)/2+.5},Qi=function(i){return i},Ri=function(i){return i*i},Fi=function(i){return i*(2-i)},ji=function(i){return i<.5?2*i*i:-1+(4-2*i)*i},qi=function(i){return i*i*i},Ui=function(i){return--i*i*i+1},Gi=function(i){return i<.5?4*i*i*i:(i-1)*(2*i-2)*(2*i-2)+1},Ji=function(i){return i*i*i*i},$i=function(i){return 1- --i*i*i*i},xi=function(i){return i<.5?8*i*i*i*i:1-8*--i*i*i*i},Ii=function(i){return i*i*i*i*i},ie=function(i){return 1+--i*i*i*i*i},ee=function(i){return i<.5?16*i*i*i*i*i:1+16*--i*i*i*i*i},ci={easeOut:Vi,linear:Qi,easeInQuad:Ri,easeOutQuad:Fi,easeInOutQuad:ji,easeInCubic:qi,easeOutCubic:Ui,easeInOutCubic:Gi,easeInQuart:Ji,easeOutQuart:$i,easeInOutQuart:xi,easeInQuint:Ii,easeOutQuint:ie,easeInOutQuint:ee},gi=function(i){typeof i=="number"&&cancelAnimationFrame(i)},T=function(i){i.mounted&&(gi(i.animation),i.animate=!1,i.animation=null,i.velocity=null)};function Si(i,n,e,r){if(i.mounted){var a=new Date().getTime(),o=1;T(i),i.animation=function(){if(!i.mounted)return gi(i.animation);var t=new Date().getTime()-a,l=t/e,s=ci[n],d=s(l);t>=e?(r(o),i.animation=null):i.animation&&(r(d),requestAnimationFrame(i.animation))},requestAnimationFrame(i.animation)}}function re(i){var n=i.scale,e=i.positionX,r=i.positionY;return!(Number.isNaN(n)||Number.isNaN(e)||Number.isNaN(r))}function A(i,n,e,r){var a=re(n);if(!(!i.mounted||!a)){var o=i.setTransformState,t=i.transformState,l=t.scale,s=t.positionX,d=t.positionY,u=n.scale-l,v=n.positionX-s,f=n.positionY-d;e===0?o(n.scale,n.positionX,n.positionY):Si(i,r,e,function(p){var m=l+u*p,h=s+v*p,S=d+f*p;o(m,h,S)})}}function ne(i,n,e){var r=i.offsetWidth,a=i.offsetHeight,o=n.offsetWidth,t=n.offsetHeight,l=o*e,s=t*e,d=r-l,u=a-s;return{wrapperWidth:r,wrapperHeight:a,newContentWidth:l,newDiffWidth:d,newContentHeight:s,newDiffHeight:u}}var ae=function(i,n,e,r,a,o,t){var l=i>n?e*(t?1:.5):0,s=r>a?o*(t?1:.5):0,d=i-n-l,u=l,v=r-a-s,f=s;return{minPositionX:d,maxPositionX:u,minPositionY:v,maxPositionY:f}},I=function(i,n){var e=i.wrapperComponent,r=i.contentComponent,a=i.setup.centerZoomedOut;if(!e||!r)throw new Error("Components are not mounted");var o=ne(e,r,n),t=o.wrapperWidth,l=o.wrapperHeight,s=o.newContentWidth,d=o.newDiffWidth,u=o.newContentHeight,v=o.newDiffHeight,f=ae(t,s,d,l,u,v,!!a);return f},J=function(i,n,e,r){return r?i<n?C(n,2):i>e?C(e,2):C(i,2):C(i,2)},N=function(i,n){var e=I(i,n);return i.bounds=e,e};function V(i,n,e,r,a,o,t){var l=e.minPositionX,s=e.minPositionY,d=e.maxPositionX,u=e.maxPositionY,v=0,f=0;t&&(v=a,f=o);var p=J(i,l-v,d+v,r),m=J(n,s-f,u+f,r);return{x:p,y:m}}function Q(i,n,e,r,a,o){var t=i.transformState,l=t.scale,s=t.positionX,d=t.positionY,u=r-l;if(typeof n!="number"||typeof e!="number")return console.error("Mouse X and Y position were not provided!"),{x:s,y:d};var v=s-n*u,f=d-e*u,p=V(v,f,a,o,0,0,null);return p}function M(i,n,e,r,a){var o=a?r:0,t=n-o;return!Number.isNaN(e)&&i>=e?e:!Number.isNaN(n)&&i<=t?t:i}var si=function(i,n){var e=i.setup.panning.excluded,r=i.isInitialized,a=i.wrapperComponent,o=n.target,t=a==null?void 0:a.contains(o),l=r&&o&&t;if(!l)return!1;var s=R(o,e);return!s},ui=function(i){var n=i.isInitialized,e=i.isPanning,r=i.setup,a=r.panning.disabled,o=n&&e&&!a;return!!o},oe=function(i,n){var e=i.transformState,r=e.positionX,a=e.positionY;i.isPanning=!0;var o=n.clientX,t=n.clientY;i.startCoords={x:o-r,y:t-a}},te=function(i,n){var e=n.touches,r=i.transformState,a=r.positionX,o=r.positionY;i.isPanning=!0;var t=e.length===1;if(t){var l=e[0].clientX,s=e[0].clientY;i.startCoords={x:l-a,y:s-o}}};function le(i){var n=i.transformState,e=n.positionX,r=n.positionY,a=n.scale,o=i.setup,t=o.disabled,l=o.limitToBounds,s=o.centerZoomedOut,d=i.wrapperComponent;if(!(t||!d||!i.bounds)){var u=i.bounds,v=u.maxPositionX,f=u.minPositionX,p=u.maxPositionY,m=u.minPositionY,h=e>v||e<f,S=r>p||r<m,P=e>v?d.offsetWidth:i.setup.minPositionX||0,b=r>p?d.offsetHeight:i.setup.minPositionY||0,w=Q(i,P,b,a,i.bounds,l||s),E=w.x,y=w.y;return{scale:a,positionX:h?E:e,positionY:S?y:r}}}function se(i,n,e,r,a){var o=i.setup.limitToBounds,t=i.wrapperComponent,l=i.bounds,s=i.transformState,d=s.scale,u=s.positionX,v=s.positionY;if(!(t===null||l===null||n===u&&e===v)){var f=V(n,e,l,o,r,a,t),p=f.x,m=f.y;i.setTransformState(d,p,m)}}var ue=function(i,n,e){var r=i.startCoords,a=i.transformState,o=i.setup.panning,t=o.lockAxisX,l=o.lockAxisY,s=a.positionX,d=a.positionY;if(!r)return{x:s,y:d};var u=n-r.x,v=e-r.y,f=t?s:u,p=l?d:v;return{x:f,y:p}},K=function(i,n){var e=i.setup,r=i.transformState,a=r.scale,o=e.minScale,t=e.disablePadding;return n>0&&a>=o&&!t?n:0},de=function(i){var n=i.mounted,e=i.setup,r=e.disabled,a=e.velocityAnimation,o=i.transformState.scale,t=a.disabled,l=!t||o>1||!r||n;return!!l},ve=function(i){var n=i.mounted,e=i.velocity,r=i.bounds,a=i.setup,o=a.disabled,t=a.velocityAnimation,l=i.transformState.scale,s=t.disabled,d=!s||l>1||!o||n;return!(!d||!e||!r)};function fe(i,n){var e=i.setup.velocityAnimation,r=e.equalToMove,a=e.animationTime,o=e.sensitivity;return r?a*n*o:a}function di(i,n,e,r,a,o,t,l,s,d){if(a){if(n>t&&e>t){var u=t+(i-t)*d;return u>s?s:u<t?t:u}if(n<o&&e<o){var u=o+(i-o)*d;return u<l?l:u>o?o:u}}return r?n:J(i,o,t,a)}function pe(i,n){var e=1;return n?Math.min(e,i.offsetWidth/window.innerWidth):e}function me(i,n){var e=de(i);if(e){var r=i.lastMousePosition,a=i.velocityTime,o=i.setup,t=i.wrapperComponent,l=o.velocityAnimation.equalToMove,s=Date.now();if(r&&a&&t){var d=pe(t,l),u=n.x-r.x,v=n.y-r.y,f=u/d,p=v/d,m=s-a,h=u*u+v*v,S=Math.sqrt(h)/m;i.velocity={velocityX:f,velocityY:p,total:S}}i.lastMousePosition=n,i.velocityTime=s}}function he(i){var n=i.velocity,e=i.bounds,r=i.setup,a=i.wrapperComponent,o=ve(i);if(!(!o||!n||!e||!a)){var t=n.velocityX,l=n.velocityY,s=n.total,d=e.maxPositionX,u=e.minPositionX,v=e.maxPositionY,f=e.minPositionY,p=r.limitToBounds,m=r.alignmentAnimation,h=r.zoomAnimation,S=r.panning,P=S.lockAxisY,b=S.lockAxisX,w=h.animationType,E=m.sizeX,y=m.sizeY,O=m.velocityAlignmentTime,z=O,B=fe(i,s),W=Math.max(B,z),D=K(i,E),k=K(i,y),H=D*a.offsetWidth/100,ri=k*a.offsetHeight/100,zi=d+H,_i=u-H,Wi=v+ri,Di=f-ri,ni=i.transformState,Ni=new Date().getTime();Si(i,w,W,function(Oi){var F=i.transformState,Bi=F.scale,j=F.positionX,q=F.positionY,ki=new Date().getTime()-Ni,Zi=ki/z,Mi=ci[m.animationType],ai=1-Mi(Math.min(1,Zi)),oi=1-Oi,ti=j+t*oi,li=q+l*oi,Hi=di(ti,ni.positionX,j,b,p,u,d,_i,zi,ai),Li=di(li,ni.positionY,q,P,p,f,v,Di,Wi,ai);(j!==ti||q!==li)&&i.setTransformState(Bi,Hi,Li)})}}function vi(i,n){var e=i.transformState.scale;T(i),N(i,e),window.TouchEvent!==void 0&&n instanceof TouchEvent?te(i,n):oe(i,n)}function wi(i){var n=i.transformState.scale,e=i.setup,r=e.minScale,a=e.alignmentAnimation,o=a.disabled,t=a.sizeX,l=a.sizeY,s=a.animationTime,d=a.animationType,u=o||n<r||!t&&!l;if(!u){var v=le(i);v&&A(i,v,s,d)}}function fi(i,n,e){var r=i.startCoords,a=i.setup,o=a.alignmentAnimation,t=o.sizeX,l=o.sizeY;if(r){var s=ue(i,n,e),d=s.x,u=s.y,v=K(i,t),f=K(i,l);me(i,{x:d,y:u}),se(i,d,u,v,f)}}function ce(i){if(i.isPanning){var n=i.setup.panning.velocityDisabled,e=i.velocity,r=i.wrapperComponent,a=i.contentComponent;i.isPanning=!1,i.animate=!1,i.animation=null;var o=r==null?void 0:r.getBoundingClientRect(),t=a==null?void 0:a.getBoundingClientRect(),l=(o==null?void 0:o.width)||0,s=(o==null?void 0:o.height)||0,d=(t==null?void 0:t.width)||0,u=(t==null?void 0:t.height)||0,v=l<d||s<u,f=!n&&e&&(e==null?void 0:e.total)>.1&&v;f?he(i):wi(i)}}function ii(i,n,e,r){var a=i.setup,o=a.minScale,t=a.maxScale,l=a.limitToBounds,s=M(C(n,2),o,t,0,!1),d=N(i,s),u=Q(i,e,r,s,d,l),v=u.x,f=u.y;return{scale:s,positionX:v,positionY:f}}function Pi(i,n,e){var r=i.transformState.scale,a=i.wrapperComponent,o=i.setup,t=o.minScale,l=o.limitToBounds,s=o.zoomAnimation,d=s.disabled,u=s.animationTime,v=s.animationType,f=d||r>=t;if((r>=1||l)&&wi(i),!(f||!a||!i.mounted)){var p=n||a.offsetWidth/2,m=e||a.offsetHeight/2,h=ii(i,t,p,m);h&&A(i,h,u,v)}}var X=function(){return X=Object.assign||function(n){for(var e,r=1,a=arguments.length;r<a;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},X.apply(this,arguments)};function pi(i,n,e){for(var r=0,a=n.length,o;r<a;r++)(o||!(r in n))&&(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return i.concat(o||Array.prototype.slice.call(n))}var L={scale:1,positionX:0,positionY:0},Z={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},bi=function(i){var n,e,r,a;return{previousScale:(n=i.initialScale)!==null&&n!==void 0?n:L.scale,scale:(e=i.initialScale)!==null&&e!==void 0?e:L.scale,positionX:(r=i.initialPositionX)!==null&&r!==void 0?r:L.positionX,positionY:(a=i.initialPositionY)!==null&&a!==void 0?a:L.positionY}},mi=function(i){var n=X({},Z);return Object.keys(i).forEach(function(e){var r=typeof i[e]<"u",a=typeof Z[e]<"u";if(a&&r){var o=Object.prototype.toString.call(Z[e]),t=o==="[object Object]",l=o==="[object Array]";t?n[e]=X(X({},Z[e]),i[e]):l?n[e]=pi(pi([],Z[e],!0),i[e]):n[e]=i[e]}}),n},Ci=function(i,n,e){var r=i.transformState.scale,a=i.wrapperComponent,o=i.setup,t=o.maxScale,l=o.minScale,s=o.zoomAnimation,d=o.smooth,u=s.size;if(!a)throw new Error("Wrapper is not mounted");var v=d?r*Math.exp(n*e):r+n*e,f=M(C(v,3),l,t,u,!1);return f};function yi(i,n,e,r,a){var o=i.wrapperComponent,t=i.transformState,l=t.scale,s=t.positionX,d=t.positionY;if(!o)return console.error("No WrapperComponent found");var u=o.offsetWidth,v=o.offsetHeight,f=(u/2-s)/l,p=(v/2-d)/l,m=Ci(i,n,e),h=ii(i,m,f,p);if(!h)return console.error("Error during zoom event. New transformation state was not calculated.");A(i,h,r,a)}function Ti(i,n,e,r){var a=i.setup,o=i.wrapperComponent,t=a.limitToBounds,l=bi(i.props),s=i.transformState,d=s.scale,u=s.positionX,v=s.positionY;if(o){var f=I(i,l.scale),p=V(l.positionX,l.positionY,f,t,0,0,o),m={scale:l.scale,positionX:p.x,positionY:p.y};d===l.scale&&u===l.positionX&&v===l.positionY||(r==null||r(),A(i,m,n,e))}}function ge(i,n,e,r){var a=i.getBoundingClientRect(),o=n.getBoundingClientRect(),t=e.getBoundingClientRect(),l=o.x*r.scale,s=o.y*r.scale;return{x:(a.x-t.x+l)/r.scale,y:(a.y-t.y+s)/r.scale}}function Se(i,n,e){var r=i.wrapperComponent,a=i.contentComponent,o=i.transformState,t=i.setup,l=t.limitToBounds,s=t.minScale,d=t.maxScale;if(!r||!a)return o;var u=r.getBoundingClientRect(),v=n.getBoundingClientRect(),f=ge(n,r,a,o),p=f.x,m=f.y,h=v.width/o.scale,S=v.height/o.scale,P=r.offsetWidth/h,b=r.offsetHeight/S,w=M(e||Math.min(P,b),s,d,0,!1),E=(u.width-h*w)/2,y=(u.height-S*w)/2,O=(u.left-p)*w+E,z=(u.top-m)*w+y,B=I(i,w),W=V(O,z,B,l,0,0,r),D=W.x,k=W.y;return{positionX:D,positionY:k,scale:w}}var we=function(i){return function(n,e,r){n===void 0&&(n=.5),e===void 0&&(e=300),r===void 0&&(r="easeOut"),yi(i,1,n,e,r)}},Pe=function(i){return function(n,e,r){n===void 0&&(n=.5),e===void 0&&(e=300),r===void 0&&(r="easeOut"),yi(i,-1,n,e,r)}},be=function(i){return function(n,e,r,a,o){a===void 0&&(a=300),o===void 0&&(o="easeOut");var t=i.transformState,l=t.positionX,s=t.positionY,d=t.scale,u=i.wrapperComponent,v=i.contentComponent,f=i.setup.disabled;if(!(f||!u||!v)){var p={positionX:Number.isNaN(n)?l:n,positionY:Number.isNaN(e)?s:e,scale:Number.isNaN(r)?d:r};A(i,p,a,o)}}},Ce=function(i){return function(n,e){n===void 0&&(n=200),e===void 0&&(e="easeOut"),Ti(i,n,e)}},ye=function(i){return function(n,e,r){e===void 0&&(e=200),r===void 0&&(r="easeOut");var a=i.transformState,o=i.wrapperComponent,t=i.contentComponent;if(o&&t){var l=Yi(n||a.scale,o,t);A(i,l,e,r)}}},Te=function(i){return function(n,e,r,a){r===void 0&&(r=600),a===void 0&&(a="easeOut"),T(i);var o=i.wrapperComponent,t=typeof n=="string"?document.getElementById(n):n;if(o&&t&&o.contains(t)){var l=Se(i,t,e);A(i,l,r,a)}}},$=function(i){return{instance:i,zoomIn:we(i),zoomOut:Pe(i),setTransform:be(i),resetTransform:Ce(i),centerView:ye(i),zoomToElement:Te(i)}},Ye=function(i){return{instance:i,state:i.transformState}},c=function(i){var n={};return Object.assign(n,Ye(i)),Object.assign(n,$(i)),n},U=!1;function G(){try{var i={get passive(){return U=!0,!1}};return i}catch{return U=!1,U}}var R=function(i,n){var e=i.tagName.toUpperCase(),r=n.find(function(o){return o.toUpperCase()===e});if(r)return!0;var a=n.find(function(o){return i.classList.contains(o)});return!!a},x=function(i){i&&clearTimeout(i)},Xe=function(i,n,e){return"translate(".concat(i,"px, ").concat(n,"px) scale(").concat(e,")")},Yi=function(i,n,e){var r=e.offsetWidth*i,a=e.offsetHeight*i,o=(n.offsetWidth-r)/2,t=(n.offsetHeight-a)/2;return{scale:i,positionX:o,positionY:t}};function Ae(i){return function(n){i.forEach(function(e){typeof e=="function"?e(n):e!=null&&(e.current=n)})}}var Ee=function(i,n){var e=i.setup.wheel,r=e.disabled,a=e.wheelDisabled,o=e.touchPadDisabled,t=e.excluded,l=i.isInitialized,s=i.isPanning,d=n.target,u=l&&!s&&!r&&d;if(!u||a&&!n.ctrlKey||o&&n.ctrlKey)return!1;var v=R(d,t);return!v},ze=function(i){return i?i.deltaY<0?1:-1:0};function _e(i,n){var e=ze(i),r=Ki(n,e);return r}function Xi(i,n,e){var r=n.getBoundingClientRect(),a=0,o=0;if("clientX"in i)a=(i.clientX-r.left)/e,o=(i.clientY-r.top)/e;else{var t=i.touches[0];a=(t.clientX-r.left)/e,o=(t.clientY-r.top)/e}return(Number.isNaN(a)||Number.isNaN(o))&&console.error("No mouse or touch offset found"),{x:a,y:o}}var We=function(i,n,e,r,a){var o=i.transformState.scale,t=i.wrapperComponent,l=i.setup,s=l.maxScale,d=l.minScale,u=l.zoomAnimation,v=l.disablePadding,f=u.size,p=u.disabled;if(!t)throw new Error("Wrapper is not mounted");var m=o+n*e,h=r?!1:!p,S=M(C(m,3),d,s,f,h&&!v);return S},De=function(i,n){var e=i.previousWheelEvent,r=i.transformState.scale,a=i.setup,o=a.maxScale,t=a.minScale;return e?r<o||r>t||Math.sign(e.deltaY)!==Math.sign(n.deltaY)||e.deltaY>0&&e.deltaY<n.deltaY||e.deltaY<0&&e.deltaY>n.deltaY||Math.sign(e.deltaY)!==Math.sign(n.deltaY):!1},Ne=function(i,n){var e=i.setup.pinch,r=e.disabled,a=e.excluded,o=i.isInitialized,t=n.target,l=o&&!r&&t;if(!l)return!1;var s=R(t,a);return!s},Oe=function(i){var n=i.setup.pinch.disabled,e=i.isInitialized,r=i.pinchStartDistance,a=e&&!n&&r;return!!a},Be=function(i,n,e){var r=e.getBoundingClientRect(),a=i.touches,o=C(a[0].clientX-r.left,5),t=C(a[0].clientY-r.top,5),l=C(a[1].clientX-r.left,5),s=C(a[1].clientY-r.top,5);return{x:(o+l)/2/n,y:(t+s)/2/n}},Ai=function(i){return Math.sqrt(Math.pow(i.touches[0].pageX-i.touches[1].pageX,2)+Math.pow(i.touches[0].pageY-i.touches[1].pageY,2))},ke=function(i,n){var e=i.pinchStartScale,r=i.pinchStartDistance,a=i.setup,o=a.maxScale,t=a.minScale,l=a.zoomAnimation,s=a.disablePadding,d=l.size,u=l.disabled;if(!e||r===null||!n)throw new Error("Pinch touches distance was not provided");if(n<0)return i.transformState.scale;var v=n/r,f=v*e;return M(C(f,2),t,o,d,!u&&!s)},Ze=160,Me=100,He=function(i,n){var e=i.props,r=e.onWheelStart,a=e.onZoomStart;i.wheelStopEventTimer||(T(i),g(c(i),n,r),g(c(i),n,a))},Le=function(i,n){var e=i.props,r=e.onWheel,a=e.onZoom,o=i.contentComponent,t=i.setup,l=i.transformState,s=l.scale,d=t.limitToBounds,u=t.centerZoomedOut,v=t.zoomAnimation,f=t.wheel,p=t.disablePadding,m=t.smooth,h=v.size,S=v.disabled,P=f.step,b=f.smoothStep;if(!o)throw new Error("Component not mounted");n.preventDefault(),n.stopPropagation();var w=_e(n,null),E=m?b*Math.abs(n.deltaY):P,y=We(i,w,E,!n.ctrlKey);if(s!==y){var O=N(i,y),z=Xi(n,o,s),B=S||h===0||u||p,W=d&&B,D=Q(i,z.x,z.y,y,O,W),k=D.x,H=D.y;i.previousWheelEvent=n,i.setTransformState(y,k,H),g(c(i),n,r),g(c(i),n,a)}},Ke=function(i,n){var e=i.props,r=e.onWheelStop,a=e.onZoomStop;x(i.wheelAnimationTimer),i.wheelAnimationTimer=setTimeout(function(){i.mounted&&(Pi(i,n.x,n.y),i.wheelAnimationTimer=null)},Me);var o=De(i,n);o&&(x(i.wheelStopEventTimer),i.wheelStopEventTimer=setTimeout(function(){i.mounted&&(i.wheelStopEventTimer=null,g(c(i),n,r),g(c(i),n,a))},Ze))},Ve=function(i,n){var e=Ai(n);i.pinchStartDistance=e,i.lastDistance=e,i.pinchStartScale=i.transformState.scale,i.isPanning=!1,T(i)},Qe=function(i,n){var e=i.contentComponent,r=i.pinchStartDistance,a=i.transformState.scale,o=i.setup,t=o.limitToBounds,l=o.centerZoomedOut,s=o.zoomAnimation,d=s.disabled,u=s.size;if(!(r===null||!e)){var v=Be(n,a,e);if(!(!Number.isFinite(v.x)||!Number.isFinite(v.y))){var f=Ai(n),p=ke(i,f);if(p!==a){var m=N(i,p),h=d||u===0||l,S=t&&h,P=Q(i,v.x,v.y,p,m,S),b=P.x,w=P.y;i.pinchMidpoint=v,i.lastDistance=f,i.setTransformState(p,b,w)}}}},Re=function(i){var n=i.pinchMidpoint;i.velocity=null,i.lastDistance=null,i.pinchMidpoint=null,i.pinchStartScale=null,i.pinchStartDistance=null,Pi(i,n==null?void 0:n.x,n==null?void 0:n.y)},Ei=function(i,n){var e=i.props.onZoomStop,r=i.setup.doubleClick.animationTime;x(i.doubleClickStopEventTimer),i.doubleClickStopEventTimer=setTimeout(function(){i.doubleClickStopEventTimer=null,g(c(i),n,e)},r)},Fe=function(i,n){var e=i.props,r=e.onZoomStart,a=e.onZoom,o=i.setup.doubleClick,t=o.animationTime,l=o.animationType;g(c(i),n,r),Ti(i,t,l,function(){return g(c(i),n,a)}),Ei(i,n)};function je(i,n){var e=i.setup,r=i.doubleClickStopEventTimer,a=i.transformState,o=i.contentComponent,t=a.scale,l=i.props,s=l.onZoomStart,d=l.onZoom,u=e.doubleClick,v=u.disabled,f=u.mode,p=u.step,m=u.animationTime,h=u.animationType;if(!v&&!r){if(f==="reset")return Fe(i,n);if(!o)return console.error("No ContentComponent found");var S=f==="zoomOut"?-1:1,P=Ci(i,S,p);if(t!==P){g(c(i),n,s);var b=Xi(n,o,t),w=ii(i,P,b.x,b.y);if(!w)return console.error("Error during zoom event. New transformation state was not calculated.");g(c(i),n,d),A(i,w,m,h),Ei(i,n)}}}var qe=function(i,n){var e=i.isInitialized,r=i.setup,a=i.wrapperComponent,o=r.doubleClick,t=o.disabled,l=o.excluded,s=n.target,d=a==null?void 0:a.contains(s),u=e&&s&&d&&!t;if(!u)return!1;var v=R(s,l);return!v},Ue=function(){function i(n){var e=this;this.mounted=!0,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){e.initializeWindowEvents()},this.unmount=function(){e.cleanupWindowEvents()},this.update=function(r){N(e,e.transformState.scale),e.setup=mi(r)},this.initializeWindowEvents=function(){var r,a=G(),o=(r=e.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,t=o==null?void 0:o.defaultView;t==null||t.addEventListener("mousedown",e.onPanningStart,a),t==null||t.addEventListener("mousemove",e.onPanning,a),t==null||t.addEventListener("mouseup",e.onPanningStop,a),o==null||o.addEventListener("mouseleave",e.clearPanning,a),t==null||t.addEventListener("keyup",e.setKeyUnPressed,a),t==null||t.addEventListener("keydown",e.setKeyPressed,a)},this.cleanupWindowEvents=function(){var r,a,o=G(),t=(r=e.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,l=t==null?void 0:t.defaultView;l==null||l.removeEventListener("mousedown",e.onPanningStart,o),l==null||l.removeEventListener("mousemove",e.onPanning,o),l==null||l.removeEventListener("mouseup",e.onPanningStop,o),t==null||t.removeEventListener("mouseleave",e.clearPanning,o),l==null||l.removeEventListener("keyup",e.setKeyUnPressed,o),l==null||l.removeEventListener("keydown",e.setKeyPressed,o),document.removeEventListener("mouseleave",e.clearPanning,o),T(e),(a=e.observer)===null||a===void 0||a.disconnect()},this.handleInitializeWrapperEvents=function(r){var a=G();r.addEventListener("wheel",e.onWheelZoom,a),r.addEventListener("dblclick",e.onDoubleClick,a),r.addEventListener("touchstart",e.onTouchPanningStart,a),r.addEventListener("touchmove",e.onTouchPanning,a),r.addEventListener("touchend",e.onTouchPanningStop,a)},this.handleInitialize=function(r){var a=e.setup.centerOnInit;e.applyTransformation(),e.onInitCallbacks.forEach(function(o){return o(c(e))}),a&&(e.setCenter(),e.observer=new ResizeObserver(function(){var o;e.onInitCallbacks.forEach(function(t){return t(c(e))}),e.setCenter(),(o=e.observer)===null||o===void 0||o.disconnect()}),e.observer.observe(r))},this.onWheelZoom=function(r){var a=e.setup.disabled;if(!a){var o=Ee(e,r);if(o){var t=e.isPressingKeys(e.setup.wheel.activationKeys);t&&(He(e,r),Le(e,r),Ke(e,r))}}},this.onPanningStart=function(r){var a=e.setup.disabled,o=e.props.onPanningStart;if(!a){var t=si(e,r);if(t){var l=e.isPressingKeys(e.setup.panning.activationKeys);l&&(r.button===0&&!e.setup.panning.allowLeftClickPan||r.button===1&&!e.setup.panning.allowMiddleClickPan||r.button===2&&!e.setup.panning.allowRightClickPan||(r.preventDefault(),r.stopPropagation(),T(e),vi(e,r),g(c(e),r,o)))}}},this.onPanning=function(r){var a=e.setup.disabled,o=e.props.onPanning;if(!a){var t=ui(e);if(t){var l=e.isPressingKeys(e.setup.panning.activationKeys);l&&(r.preventDefault(),r.stopPropagation(),fi(e,r.clientX,r.clientY),g(c(e),r,o))}}},this.onPanningStop=function(r){var a=e.props.onPanningStop;e.isPanning&&(ce(e),g(c(e),r,a))},this.onPinchStart=function(r){var a=e.setup.disabled,o=e.props,t=o.onPinchingStart,l=o.onZoomStart;if(!a){var s=Ne(e,r);s&&(Ve(e,r),T(e),g(c(e),r,t),g(c(e),r,l))}},this.onPinch=function(r){var a=e.setup.disabled,o=e.props,t=o.onPinching,l=o.onZoom;if(!a){var s=Oe(e);s&&(r.preventDefault(),r.stopPropagation(),Qe(e,r),g(c(e),r,t),g(c(e),r,l))}},this.onPinchStop=function(r){var a=e.props,o=a.onPinchingStop,t=a.onZoomStop;e.pinchStartScale&&(Re(e),g(c(e),r,o),g(c(e),r,t))},this.onTouchPanningStart=function(r){var a=e.setup.disabled,o=e.props.onPanningStart;if(!a){var t=si(e,r);if(t){var l=e.lastTouch&&+new Date-e.lastTouch<200;if(l&&r.touches.length===1)e.onDoubleClick(r);else{e.lastTouch=+new Date,T(e);var s=r.touches,d=s.length===1,u=s.length===2;d&&(T(e),vi(e,r),g(c(e),r,o)),u&&e.onPinchStart(r)}}}},this.onTouchPanning=function(r){var a=e.setup.disabled,o=e.props.onPanning;if(e.isPanning&&r.touches.length===1){if(a)return;var t=ui(e);if(!t)return;r.preventDefault(),r.stopPropagation();var l=r.touches[0];fi(e,l.clientX,l.clientY),g(c(e),r,o)}else r.touches.length>1&&e.onPinch(r)},this.onTouchPanningStop=function(r){e.onPanningStop(r),e.onPinchStop(r)},this.onDoubleClick=function(r){var a=e.setup.disabled;if(!a){var o=qe(e,r);o&&je(e,r)}},this.clearPanning=function(r){e.isPanning&&e.onPanningStop(r)},this.setKeyPressed=function(r){e.pressedKeys[r.key]=!0},this.setKeyUnPressed=function(r){e.pressedKeys[r.key]=!1},this.isPressingKeys=function(r){return r.length?!!r.find(function(a){return e.pressedKeys[a]}):!0},this.setTransformState=function(r,a,o){var t=e.props.onTransformed;if(!Number.isNaN(r)&&!Number.isNaN(a)&&!Number.isNaN(o)){r!==e.transformState.scale&&(e.transformState.previousScale=e.transformState.scale,e.transformState.scale=r),e.transformState.positionX=a,e.transformState.positionY=o,e.applyTransformation();var l=c(e);e.onChangeCallbacks.forEach(function(s){return s(l)}),g(l,{scale:r,positionX:a,positionY:o},t)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(e.wrapperComponent&&e.contentComponent){var r=Yi(e.transformState.scale,e.wrapperComponent,e.contentComponent);e.setTransformState(r.scale,r.positionX,r.positionY)}},this.handleTransformStyles=function(r,a,o){return e.props.customTransform?e.props.customTransform(r,a,o):Xe(r,a,o)},this.applyTransformation=function(){if(!(!e.mounted||!e.contentComponent)){var r=e.transformState,a=r.scale,o=r.positionX,t=r.positionY,l=e.handleTransformStyles(o,t,a);e.contentComponent.style.transform=l}},this.getContext=function(){return c(e)},this.onChange=function(r){return e.onChangeCallbacks.has(r)||e.onChangeCallbacks.add(r),function(){e.onChangeCallbacks.delete(r)}},this.onInit=function(r){return e.onInitCallbacks.has(r)||e.onInitCallbacks.add(r),function(){e.onInitCallbacks.delete(r)}},this.init=function(r,a){e.cleanupWindowEvents(),e.wrapperComponent=r,e.contentComponent=a,N(e,e.transformState.scale),e.handleInitializeWrapperEvents(r),e.handleInitialize(a),e.initializeWindowEvents(),e.isInitialized=!0;var o=c(e);g(o,void 0,e.props.onInit)},this.props=n,this.setup=mi(this.props),this.transformState=bi(this.props)}return i}(),ei=_.createContext(null),Ge=function(i,n){return typeof i=="function"?i(n):i},Ie=_.forwardRef(function(i,n){var e=Y.useRef(new Ue(i)).current,r=Ge(i.children,$(e));return Y.useImperativeHandle(n,function(){return $(e)},[e]),Y.useEffect(function(){e.update(i)},[e,i]),_.createElement(ei.Provider,{value:e},r)});_.forwardRef(function(i,n){var e=Y.useRef(null),r=Y.useContext(ei);return Y.useEffect(function(){return r.onChange(function(a){if(e.current){var o=0,t=0;e.current.style.transform=r.handleTransformStyles(o,t,1/a.instance.transformState.scale)}})},[r]),_.createElement("div",X({},i,{ref:Ae([e,n])}))});function Je(i,n){n===void 0&&(n={});var e=n.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",e==="top"&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=i:a.appendChild(document.createTextNode(i))}}var $e=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,hi={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};Je($e);var ir=function(i){var n=i.children,e=i.wrapperClass,r=e===void 0?"":e,a=i.contentClass,o=a===void 0?"":a,t=i.wrapperStyle,l=i.contentStyle,s=i.wrapperProps,d=s===void 0?{}:s,u=i.contentProps,v=u===void 0?{}:u,f=Y.useContext(ei),p=f.init,m=f.cleanupWindowEvents,h=Y.useRef(null),S=Y.useRef(null);return Y.useEffect(function(){var P=h.current,b=S.current;return P!==null&&b!==null&&p&&(p==null||p(P,b)),function(){m==null||m()}},[]),_.createElement("div",X({},d,{ref:h,className:"react-transform-wrapper ".concat(hi.wrapper," ").concat(r),style:t}),_.createElement("div",X({},v,{ref:S,className:"react-transform-component ".concat(hi.content," ").concat(o),style:l}),n))};export{Ie as T,ir as a};
//# sourceMappingURL=react-zoom-pan-pinch-BsIRrnk0.js.map
