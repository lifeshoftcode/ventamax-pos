import{h as Jr,i as Zr,a as Qe,_ as Ke,k as pt,d as F,e as ke,c as L,b as R,g as ie,f as Ge,j as en,o as Kn,p as Pt}from"./@babel-DQaiFHLa.js";import{a as P,r as l}from"./react-rfUEOKBT.js";import{F as Sn}from"./@ant-design-BOJYnYvx.js";import{c as ye}from"./classnames-C28gIRGy.js";import{e as qe,f as Vr,c as jt,u as ne,h as Jn,a as Zn,r as tn,s as yr,d as Nn,i as Yn,j as Xn,k as ea,l as Hr,m as ta,g as Ur,n as ra,o as Mn,p as na,q as aa}from"./rc-util-C_kT1Pk-.js";import{r as Rn}from"./react-dom-CWvG3IXd.js";import{R as Pn}from"./rc-resize-observer-CVw_Y2pA.js";import{C as kn}from"./rc-motion-F1MUgz2i.js";var ia=["b"],oa=["v"],Or=function(t){return Math.round(Number(t||0))},sa=function(t){if(t instanceof Sn)return t;if(t&&ke(t)==="object"&&"h"in t&&"b"in t){var e=t,n=e.b,a=pt(e,ia);return F(F({},a),{},{v:n})}return typeof t=="string"&&/hsb/.test(t)?t.replace(/hsb/,"hsv"):t},At=function(r){Jr(e,r);var t=Zr(e);function e(n){return Qe(this,e),t.call(this,sa(n))}return Ke(e,[{key:"toHsbString",value:function(){var a=this.toHsb(),i=Or(a.s*100),o=Or(a.b*100),s=Or(a.h),u=a.a,d="hsb(".concat(s,", ").concat(i,"%, ").concat(o,"%)"),v="hsba(".concat(s,", ").concat(i,"%, ").concat(o,"%, ").concat(u.toFixed(u===0?0:2),")");return u===1?d:v}},{key:"toHsb",value:function(){var a=this.toHsv(),i=a.v,o=pt(a,oa);return F(F({},o),{},{b:i,a:this.a})}}]),e}(Sn),ua="rc-color-picker",kt=function(t){return t instanceof At?t:new At(t)},la=kt("#1677ff"),An=function(t){var e=t.offset,n=t.targetRef,a=t.containerRef,i=t.color,o=t.type,s=a.current.getBoundingClientRect(),u=s.width,d=s.height,v=n.current.getBoundingClientRect(),h=v.width,g=v.height,m=h/2,f=g/2,y=(e.x+m)/u,c=1-(e.y+f)/d,C=i.toHsb(),w=y,N=(e.x+m)/u*360;if(o)switch(o){case"hue":return kt(F(F({},C),{},{h:N<=0?0:N}));case"alpha":return kt(F(F({},C),{},{a:w<=0?0:w}))}return kt({h:C.h,s:y<=0?0:y,b:c>=1?1:c,a:C.a})},pn=function(t,e){var n=t.toHsb();switch(e){case"hue":return{x:n.h/360*100,y:50};case"alpha":return{x:t.a*100,y:50};default:return{x:n.s*100,y:(1-n.b)*100}}},ca=function(t){var e=t.color,n=t.prefixCls,a=t.className,i=t.style,o=t.onClick,s="".concat(n,"-color-block");return P.createElement("div",{className:ye(s,a),style:i,onClick:o},P.createElement("div",{className:"".concat(s,"-inner"),style:{background:e}}))};function fa(r){var t="touches"in r?r.touches[0]:r,e=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,n=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:t.pageX-e,pageY:t.pageY-n}}function Dn(r){var t=r.targetRef,e=r.containerRef,n=r.direction,a=r.onDragChange,i=r.onDragChangeComplete,o=r.calculate,s=r.color,u=r.disabledDrag,d=l.useState({x:0,y:0}),v=L(d,2),h=v[0],g=v[1],m=l.useRef(null),f=l.useRef(null);l.useEffect(function(){g(o())},[s]),l.useEffect(function(){return function(){document.removeEventListener("mousemove",m.current),document.removeEventListener("mouseup",f.current),document.removeEventListener("touchmove",m.current),document.removeEventListener("touchend",f.current),m.current=null,f.current=null}},[]);var y=function(b){var E=fa(b),S=E.pageX,D=E.pageY,p=e.current.getBoundingClientRect(),x=p.x,T=p.y,q=p.width,j=p.height,V=t.current.getBoundingClientRect(),$=V.width,O=V.height,Q=$/2,U=O/2,_=Math.max(0,Math.min(S-x,q))-Q,A=Math.max(0,Math.min(D-T,j))-U,I={x:_,y:n==="x"?h.y:A};if($===0&&O===0||$!==O)return!1;a==null||a(I)},c=function(b){b.preventDefault(),y(b)},C=function(b){b.preventDefault(),document.removeEventListener("mousemove",m.current),document.removeEventListener("mouseup",f.current),document.removeEventListener("touchmove",m.current),document.removeEventListener("touchend",f.current),m.current=null,f.current=null,i==null||i()},w=function(b){document.removeEventListener("mousemove",m.current),document.removeEventListener("mouseup",f.current),!u&&(y(b),document.addEventListener("mousemove",c),document.addEventListener("mouseup",C),document.addEventListener("touchmove",c),document.addEventListener("touchend",C),m.current=c,f.current=C)};return[h,w]}var In=function(t){var e=t.size,n=e===void 0?"default":e,a=t.color,i=t.prefixCls;return P.createElement("div",{className:ye("".concat(i,"-handler"),R({},"".concat(i,"-handler-sm"),n==="small")),style:{backgroundColor:a}})},Fn=function(t){var e=t.children,n=t.style,a=t.prefixCls;return P.createElement("div",{className:"".concat(a,"-palette"),style:F({position:"relative"},n)},e)},xn=l.forwardRef(function(r,t){var e=r.children,n=r.x,a=r.y;return P.createElement("div",{ref:t,style:{position:"absolute",left:"".concat(n,"%"),top:"".concat(a,"%"),zIndex:1,transform:"translate(-50%, -50%)"}},e)}),va=function(t){var e=t.color,n=t.onChange,a=t.prefixCls,i=t.onChangeComplete,o=t.disabled,s=l.useRef(),u=l.useRef(),d=l.useRef(e),v=qe(function(y){var c=An({offset:y,targetRef:u,containerRef:s,color:e});d.current=c,n(c)}),h=Dn({color:e,containerRef:s,targetRef:u,calculate:function(){return pn(e)},onDragChange:v,onDragChangeComplete:function(){return i==null?void 0:i(d.current)},disabledDrag:o}),g=L(h,2),m=g[0],f=g[1];return P.createElement("div",{ref:s,className:"".concat(a,"-select"),onMouseDown:f,onTouchStart:f},P.createElement(Fn,{prefixCls:a},P.createElement(xn,{x:m.x,y:m.y,ref:u},P.createElement(In,{color:e.toRgbString(),prefixCls:a})),P.createElement("div",{className:"".concat(a,"-saturation"),style:{backgroundColor:"hsl(".concat(e.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))},da=function(t,e){var n=Vr(t,{value:e}),a=L(n,2),i=a[0],o=a[1],s=l.useMemo(function(){return kt(i)},[i]);return[s,o]},ha=function(t){var e=t.colors,n=t.children,a=t.direction,i=a===void 0?"to right":a,o=t.type,s=t.prefixCls,u=l.useMemo(function(){return e.map(function(d,v){var h=kt(d);return o==="alpha"&&v===e.length-1&&(h=new At(h.setA(1))),h.toRgbString()}).join(",")},[e,o]);return P.createElement("div",{className:"".concat(s,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(i,", ").concat(u,")")}},n)},ma=function(t){var e=t.prefixCls,n=t.colors,a=t.disabled,i=t.onChange,o=t.onChangeComplete,s=t.color,u=t.type,d=l.useRef(),v=l.useRef(),h=l.useRef(s),g=function(E){return u==="hue"?E.getHue():E.a*100},m=qe(function(b){var E=An({offset:b,targetRef:v,containerRef:d,color:s,type:u});h.current=E,i(g(E))}),f=Dn({color:s,targetRef:v,containerRef:d,calculate:function(){return pn(s,u)},onDragChange:m,onDragChangeComplete:function(){o(g(h.current))},direction:"x",disabledDrag:a}),y=L(f,2),c=y[0],C=y[1],w=P.useMemo(function(){if(u==="hue"){var b=s.toHsb();b.s=1,b.b=1,b.a=1;var E=new At(b);return E}return s},[s,u]),N=P.useMemo(function(){return n.map(function(b){return"".concat(b.color," ").concat(b.percent,"%")})},[n]);return P.createElement("div",{ref:d,className:ye("".concat(e,"-slider"),"".concat(e,"-slider-").concat(u)),onMouseDown:C,onTouchStart:C},P.createElement(Fn,{prefixCls:e},P.createElement(xn,{x:c.x,y:c.y,ref:v},P.createElement(In,{size:"small",color:w.toHexString(),prefixCls:e})),P.createElement(ha,{colors:N,type:u,prefixCls:e})))};function ga(r){return l.useMemo(function(){var t=r||{},e=t.slider;return[e||ma]},[r])}var ya=[{color:"rgb(255, 0, 0)",percent:0},{color:"rgb(255, 255, 0)",percent:17},{color:"rgb(0, 255, 0)",percent:33},{color:"rgb(0, 255, 255)",percent:50},{color:"rgb(0, 0, 255)",percent:67},{color:"rgb(255, 0, 255)",percent:83},{color:"rgb(255, 0, 0)",percent:100}],Qi=l.forwardRef(function(r,t){var e=r.value,n=r.defaultValue,a=r.prefixCls,i=a===void 0?ua:a,o=r.onChange,s=r.onChangeComplete,u=r.className,d=r.style,v=r.panelRender,h=r.disabledAlpha,g=h===void 0?!1:h,m=r.disabled,f=m===void 0?!1:m,y=r.components,c=ga(y),C=L(c,1),w=C[0],N=da(n||la,e),b=L(N,2),E=b[0],S=b[1],D=l.useMemo(function(){return E.setA(1).toRgbString()},[E]),p=function(A,I){e||S(A),o==null||o(A,I)},x=function(A){return new At(E.setHue(A))},T=function(A){return new At(E.setA(A/100))},q=function(A){p(x(A),{type:"hue",value:A})},j=function(A){p(T(A),{type:"alpha",value:A})},V=function(A){s&&s(x(A))},$=function(A){s&&s(T(A))},O=ye("".concat(i,"-panel"),u,R({},"".concat(i,"-panel-disabled"),f)),Q={prefixCls:i,disabled:f,color:E},U=P.createElement(P.Fragment,null,P.createElement(va,ie({onChange:p},Q,{onChangeComplete:s})),P.createElement("div",{className:"".concat(i,"-slider-container")},P.createElement("div",{className:ye("".concat(i,"-slider-group"),R({},"".concat(i,"-slider-group-disabled-alpha"),g))},P.createElement(w,ie({},Q,{type:"hue",colors:ya,min:0,max:359,value:E.getHue(),onChange:q,onChangeComplete:V})),!g&&P.createElement(w,ie({},Q,{type:"alpha",colors:[{percent:0,color:"rgba(255, 0, 4, 0)"},{percent:100,color:D}],min:0,max:100,value:E.a*100,onChange:j,onChangeComplete:$}))),P.createElement(ca,{color:E.toRgbString(),prefixCls:i})));return P.createElement("div",{className:O,style:d,ref:t},typeof v=="function"?v(U):U)}),Ln=l.createContext(null),rn=[];function Ca(r,t){var e=l.useState(function(){if(!jt())return null;var f=document.createElement("div");return f}),n=L(e,1),a=n[0],i=l.useRef(!1),o=l.useContext(Ln),s=l.useState(rn),u=L(s,2),d=u[0],v=u[1],h=o||(i.current?void 0:function(f){v(function(y){var c=[f].concat(Ge(y));return c})});function g(){a.parentElement||document.body.appendChild(a),i.current=!0}function m(){var f;(f=a.parentElement)===null||f===void 0||f.removeChild(a),i.current=!1}return ne(function(){return r?o?o(g):g():m(),m},[r]),ne(function(){d.length&&(d.forEach(function(f){return f()}),v(rn))},[d]),[a,h]}function ba(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var wa="rc-util-locker-".concat(Date.now()),nn=0;function Ea(r){var t=!!r,e=l.useState(function(){return nn+=1,"".concat(wa,"_").concat(nn)}),n=L(e,1),a=n[0];ne(function(){if(t){var i=Jn(document.body).width,o=ba();Zn(`
html body {
  overflow-y: hidden;
  `.concat(o?"width: calc(100% - ".concat(i,"px);"):"",`
}`),a)}else tn(a);return function(){tn(a)}},[t,a])}var Sa=!1;function Na(r){return Sa}var an=function(t){return t===!1?!1:!jt()||!t?null:typeof t=="string"?document.querySelector(t):typeof t=="function"?t():t},Cr=l.forwardRef(function(r,t){var e=r.open,n=r.autoLock,a=r.getContainer;r.debug;var i=r.autoDestroy,o=i===void 0?!0:i,s=r.children,u=l.useState(e),d=L(u,2),v=d[0],h=d[1],g=v||e;l.useEffect(function(){(o||e)&&h(e)},[e,o]);var m=l.useState(function(){return an(a)}),f=L(m,2),y=f[0],c=f[1];l.useEffect(function(){var q=an(a);c(q??null)});var C=Ca(g&&!y),w=L(C,2),N=w[0],b=w[1],E=y??N;Ea(n&&e&&jt()&&(E===N||E===document.body));var S=null;if(s&&yr(s)&&t){var D=s;S=D.ref}var p=Nn(S,t);if(!g||!jt()||y===void 0)return null;var x=E===!1||Na(),T=s;return t&&(T=l.cloneElement(s,{ref:p})),l.createElement(Ln.Provider,{value:b},x?T:Rn.createPortal(T,E))});function Wr(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var Gr=Wr(),Ma=/%[sdj%]/g,Ra=function(){};function jr(r){if(!r||!r.length)return null;var t={};return r.forEach(function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)}),t}function Ae(r){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];var a=0,i=e.length;if(typeof r=="function")return r.apply(null,e);if(typeof r=="string"){var o=r.replace(Ma,function(s){if(s==="%%")return"%";if(a>=i)return s;switch(s){case"%s":return String(e[a++]);case"%d":return Number(e[a++]);case"%j":try{return JSON.stringify(e[a++])}catch{return"[Circular]"}break;default:return s}});return o}return r}function Pa(r){return r==="string"||r==="url"||r==="hex"||r==="email"||r==="date"||r==="pattern"}function ae(r,t){return!!(r==null||t==="array"&&Array.isArray(r)&&!r.length||Pa(t)&&typeof r=="string"&&!r)}function ka(r,t,e){var n=[],a=0,i=r.length;function o(s){n.push.apply(n,Ge(s||[])),a++,a===i&&e(n)}r.forEach(function(s){t(s,o)})}function on(r,t,e){var n=0,a=r.length;function i(o){if(o&&o.length){e(o);return}var s=n;n=n+1,s<a?t(r[s],i):e([])}i([])}function Aa(r){var t=[];return Object.keys(r).forEach(function(e){t.push.apply(t,Ge(r[e]||[]))}),t}var sn=function(r){Jr(e,r);var t=Zr(e);function e(n,a){var i;return Qe(this,e),i=t.call(this,"Async Validation Error"),R(en(i),"errors",void 0),R(en(i),"fields",void 0),i.errors=n,i.fields=a,i}return Ke(e)}(Kn(Error));function pa(r,t,e,n,a){if(t.first){var i=new Promise(function(g,m){var f=function(C){return n(C),C.length?m(new sn(C,jr(C))):g(a)},y=Aa(r);on(y,e,f)});return i.catch(function(g){return g}),i}var o=t.firstFields===!0?Object.keys(r):t.firstFields||[],s=Object.keys(r),u=s.length,d=0,v=[],h=new Promise(function(g,m){var f=function(c){if(v.push.apply(v,c),d++,d===u)return n(v),v.length?m(new sn(v,jr(v))):g(a)};s.length||(n(v),g(a)),s.forEach(function(y){var c=r[y];o.indexOf(y)!==-1?on(c,e,f):ka(c,e,f)})});return h.catch(function(g){return g}),h}function Da(r){return!!(r&&r.message!==void 0)}function Ia(r,t){for(var e=r,n=0;n<t.length;n++){if(e==null)return e;e=e[t[n]]}return e}function un(r,t){return function(e){var n;return r.fullFields?n=Ia(t,r.fullFields):n=t[e.field||r.fullField],Da(e)?(e.field=e.field||r.fullField,e.fieldValue=n,e):{message:typeof e=="function"?e():e,fieldValue:n,field:e.field||r.fullField}}}function ln(r,t){if(t){for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];ke(n)==="object"&&ke(r[e])==="object"?r[e]=F(F({},r[e]),n):r[e]=n}}return r}var Mt="enum",Fa=function(t,e,n,a,i){t[Mt]=Array.isArray(t[Mt])?t[Mt]:[],t[Mt].indexOf(e)===-1&&a.push(Ae(i.messages[Mt],t.fullField,t[Mt].join(", ")))},xa=function(t,e,n,a,i){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(e)||a.push(Ae(i.messages.pattern.mismatch,t.fullField,e,t.pattern));else if(typeof t.pattern=="string"){var o=new RegExp(t.pattern);o.test(e)||a.push(Ae(i.messages.pattern.mismatch,t.fullField,e,t.pattern))}}},La=function(t,e,n,a,i){var o=typeof t.len=="number",s=typeof t.min=="number",u=typeof t.max=="number",d=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,v=e,h=null,g=typeof e=="number",m=typeof e=="string",f=Array.isArray(e);if(g?h="number":m?h="string":f&&(h="array"),!h)return!1;f&&(v=e.length),m&&(v=e.replace(d,"_").length),o?v!==t.len&&a.push(Ae(i.messages[h].len,t.fullField,t.len)):s&&!u&&v<t.min?a.push(Ae(i.messages[h].min,t.fullField,t.min)):u&&!s&&v>t.max?a.push(Ae(i.messages[h].max,t.fullField,t.max)):s&&u&&(v<t.min||v>t.max)&&a.push(Ae(i.messages[h].range,t.fullField,t.min,t.max))},Tn=function(t,e,n,a,i,o){t.required&&(!n.hasOwnProperty(t.field)||ae(e,o||t.type))&&a.push(Ae(i.messages.required,t.fullField))},mr;const Ta=function(){if(mr)return mr;var r="[a-fA-F\\d:]",t=function(S){return S&&S.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(r,")|(?<=").concat(r,")(?=\\s|$))"):""},e="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",a=["(?:".concat(n,":){7}(?:").concat(n,"|:)"),"(?:".concat(n,":){6}(?:").concat(e,"|:").concat(n,"|:)"),"(?:".concat(n,":){5}(?::").concat(e,"|(?::").concat(n,"){1,2}|:)"),"(?:".concat(n,":){4}(?:(?::").concat(n,"){0,1}:").concat(e,"|(?::").concat(n,"){1,3}|:)"),"(?:".concat(n,":){3}(?:(?::").concat(n,"){0,2}:").concat(e,"|(?::").concat(n,"){1,4}|:)"),"(?:".concat(n,":){2}(?:(?::").concat(n,"){0,3}:").concat(e,"|(?::").concat(n,"){1,5}|:)"),"(?:".concat(n,":){1}(?:(?::").concat(n,"){0,4}:").concat(e,"|(?::").concat(n,"){1,6}|:)"),"(?::(?:(?::".concat(n,"){0,5}:").concat(e,"|(?::").concat(n,"){1,7}|:))")],i="(?:%[0-9a-zA-Z]{1,})?",o="(?:".concat(a.join("|"),")").concat(i),s=new RegExp("(?:^".concat(e,"$)|(?:^").concat(o,"$)")),u=new RegExp("^".concat(e,"$")),d=new RegExp("^".concat(o,"$")),v=function(S){return S&&S.exact?s:new RegExp("(?:".concat(t(S)).concat(e).concat(t(S),")|(?:").concat(t(S)).concat(o).concat(t(S),")"),"g")};v.v4=function(E){return E&&E.exact?u:new RegExp("".concat(t(E)).concat(e).concat(t(E)),"g")},v.v6=function(E){return E&&E.exact?d:new RegExp("".concat(t(E)).concat(o).concat(t(E)),"g")};var h="(?:(?:[a-z]+:)?//)",g="(?:\\S+(?::\\S*)?@)?",m=v.v4().source,f=v.v6().source,y="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",c="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",C="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",w="(?::\\d{2,5})?",N='(?:[/?#][^\\s"]*)?',b="(?:".concat(h,"|www\\.)").concat(g,"(?:localhost|").concat(m,"|").concat(f,"|").concat(y).concat(c).concat(C,")").concat(w).concat(N);return mr=new RegExp("(?:^".concat(b,"$)"),"i"),mr};var cn={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Ht={integer:function(t){return Ht.number(t)&&parseInt(t,10)===t},float:function(t){return Ht.number(t)&&!Ht.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return ke(t)==="object"&&!Ht.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(cn.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(Ta())},hex:function(t){return typeof t=="string"&&!!t.match(cn.hex)}},_a=function(t,e,n,a,i){if(t.required&&e===void 0){Tn(t,e,n,a,i);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=t.type;o.indexOf(s)>-1?Ht[s](e)||a.push(Ae(i.messages.types[s],t.fullField,t.type)):s&&ke(e)!==t.type&&a.push(Ae(i.messages.types[s],t.fullField,t.type))},za=function(t,e,n,a,i){(/^\s+$/.test(e)||e==="")&&a.push(Ae(i.messages.whitespace,t.fullField))};const z={required:Tn,whitespace:za,type:_a,range:La,enum:Fa,pattern:xa};var qa=function(t,e,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(ae(e)&&!t.required)return n();z.required(t,e,a,o,i)}n(o)},$a=function(t,e,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(e==null&&!t.required)return n();z.required(t,e,a,o,i,"array"),e!=null&&(z.type(t,e,a,o,i),z.range(t,e,a,o,i))}n(o)},Oa=function(t,e,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(ae(e)&&!t.required)return n();z.required(t,e,a,o,i),e!==void 0&&z.type(t,e,a,o,i)}n(o)},Ba=function(t,e,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(ae(e,"date")&&!t.required)return n();if(z.required(t,e,a,o,i),!ae(e,"date")){var u;e instanceof Date?u=e:u=new Date(e),z.type(t,u,a,o,i),u&&z.range(t,u.getTime(),a,o,i)}}n(o)},Va="enum",Ha=function(t,e,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(ae(e)&&!t.required)return n();z.required(t,e,a,o,i),e!==void 0&&z[Va](t,e,a,o,i)}n(o)},Ua=function(t,e,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(ae(e)&&!t.required)return n();z.required(t,e,a,o,i),e!==void 0&&(z.type(t,e,a,o,i),z.range(t,e,a,o,i))}n(o)},Wa=function(t,e,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(ae(e)&&!t.required)return n();z.required(t,e,a,o,i),e!==void 0&&(z.type(t,e,a,o,i),z.range(t,e,a,o,i))}n(o)},Ga=function(t,e,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(ae(e)&&!t.required)return n();z.required(t,e,a,o,i),e!==void 0&&z.type(t,e,a,o,i)}n(o)},ja=function(t,e,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(e===""&&(e=void 0),ae(e)&&!t.required)return n();z.required(t,e,a,o,i),e!==void 0&&(z.type(t,e,a,o,i),z.range(t,e,a,o,i))}n(o)},Qa=function(t,e,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(ae(e)&&!t.required)return n();z.required(t,e,a,o,i),e!==void 0&&z.type(t,e,a,o,i)}n(o)},Ka=function(t,e,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(ae(e,"string")&&!t.required)return n();z.required(t,e,a,o,i),ae(e,"string")||z.pattern(t,e,a,o,i)}n(o)},Ja=function(t,e,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(ae(e)&&!t.required)return n();z.required(t,e,a,o,i),ae(e)||z.type(t,e,a,o,i)}n(o)},Za=function(t,e,n,a,i){var o=[],s=Array.isArray(e)?"array":ke(e);z.required(t,e,a,o,i,s),n(o)},Ya=function(t,e,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(ae(e,"string")&&!t.required)return n();z.required(t,e,a,o,i,"string"),ae(e,"string")||(z.type(t,e,a,o,i),z.range(t,e,a,o,i),z.pattern(t,e,a,o,i),t.whitespace===!0&&z.whitespace(t,e,a,o,i))}n(o)},Br=function(t,e,n,a,i){var o=t.type,s=[],u=t.required||!t.required&&a.hasOwnProperty(t.field);if(u){if(ae(e,o)&&!t.required)return n();z.required(t,e,a,s,i,o),ae(e,o)||z.type(t,e,a,s,i)}n(s)};const Wt={string:Ya,method:Ga,number:ja,boolean:Oa,regexp:Ja,integer:Wa,float:Ua,array:$a,object:Qa,enum:Ha,pattern:Ka,date:Ba,url:Br,hex:Br,email:Br,required:Za,any:qa};var br=function(){function r(t){Qe(this,r),R(this,"rules",null),R(this,"_messages",Gr),this.define(t)}return Ke(r,[{key:"define",value:function(e){var n=this;if(!e)throw new Error("Cannot configure a schema with no rules");if(ke(e)!=="object"||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach(function(a){var i=e[a];n.rules[a]=Array.isArray(i)?i:[i]})}},{key:"messages",value:function(e){return e&&(this._messages=ln(Wr(),e)),this._messages}},{key:"validate",value:function(e){var n=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},o=e,s=a,u=i;if(typeof s=="function"&&(u=s,s={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,o),Promise.resolve(o);function d(f){var y=[],c={};function C(N){if(Array.isArray(N)){var b;y=(b=y).concat.apply(b,Ge(N))}else y.push(N)}for(var w=0;w<f.length;w++)C(f[w]);y.length?(c=jr(y),u(y,c)):u(null,o)}if(s.messages){var v=this.messages();v===Gr&&(v=Wr()),ln(v,s.messages),s.messages=v}else s.messages=this.messages();var h={},g=s.keys||Object.keys(this.rules);g.forEach(function(f){var y=n.rules[f],c=o[f];y.forEach(function(C){var w=C;typeof w.transform=="function"&&(o===e&&(o=F({},o)),c=o[f]=w.transform(c),c!=null&&(w.type=w.type||(Array.isArray(c)?"array":ke(c)))),typeof w=="function"?w={validator:w}:w=F({},w),w.validator=n.getValidationMethod(w),w.validator&&(w.field=f,w.fullField=w.fullField||f,w.type=n.getType(w),h[f]=h[f]||[],h[f].push({rule:w,value:c,source:o,field:f}))})});var m={};return pa(h,s,function(f,y){var c=f.rule,C=(c.type==="object"||c.type==="array")&&(ke(c.fields)==="object"||ke(c.defaultField)==="object");C=C&&(c.required||!c.required&&f.value),c.field=f.field;function w(D,p){return F(F({},p),{},{fullField:"".concat(c.fullField,".").concat(D),fullFields:c.fullFields?[].concat(Ge(c.fullFields),[D]):[D]})}function N(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=Array.isArray(D)?D:[D];!s.suppressWarning&&p.length&&r.warning("async-validator:",p),p.length&&c.message!==void 0&&(p=[].concat(c.message));var x=p.map(un(c,o));if(s.first&&x.length)return m[c.field]=1,y(x);if(!C)y(x);else{if(c.required&&!f.value)return c.message!==void 0?x=[].concat(c.message).map(un(c,o)):s.error&&(x=[s.error(c,Ae(s.messages.required,c.field))]),y(x);var T={};c.defaultField&&Object.keys(f.value).map(function(V){T[V]=c.defaultField}),T=F(F({},T),f.rule.fields);var q={};Object.keys(T).forEach(function(V){var $=T[V],O=Array.isArray($)?$:[$];q[V]=O.map(w.bind(null,V))});var j=new r(q);j.messages(s.messages),f.rule.options&&(f.rule.options.messages=s.messages,f.rule.options.error=s.error),j.validate(f.value,f.rule.options||s,function(V){var $=[];x&&x.length&&$.push.apply($,Ge(x)),V&&V.length&&$.push.apply($,Ge(V)),y($.length?$:null)})}}var b;if(c.asyncValidator)b=c.asyncValidator(c,f.value,N,f.source,s);else if(c.validator){try{b=c.validator(c,f.value,N,f.source,s)}catch(D){var E,S;(E=(S=console).error)===null||E===void 0||E.call(S,D),s.suppressValidatorError||setTimeout(function(){throw D},0),N(D.message)}b===!0?N():b===!1?N(typeof c.message=="function"?c.message(c.fullField||c.field):c.message||"".concat(c.fullField||c.field," fails")):b instanceof Array?N(b):b instanceof Error&&N(b.message)}b&&b.then&&b.then(function(){return N()},function(D){return N(D)})},function(f){d(f)},o)}},{key:"getType",value:function(e){if(e.type===void 0&&e.pattern instanceof RegExp&&(e.type="pattern"),typeof e.validator!="function"&&e.type&&!Wt.hasOwnProperty(e.type))throw new Error(Ae("Unknown rule type %s",e.type));return e.type||"string"}},{key:"getValidationMethod",value:function(e){if(typeof e.validator=="function")return e.validator;var n=Object.keys(e),a=n.indexOf("message");return a!==-1&&n.splice(a,1),n.length===1&&n[0]==="required"?Wt.required:Wt[this.getType(e)]||void 0}}]),r}();R(br,"register",function(t,e){if(typeof e!="function")throw new Error("Cannot register a validator by type, validator is not a function");Wt[t]=e});R(br,"warning",Ra);R(br,"messages",Gr);R(br,"validators",Wt);function Xa(r){var t=r.prefixCls,e=r.align,n=r.arrow,a=r.arrowPos,i=n||{},o=i.className,s=i.content,u=a.x,d=u===void 0?0:u,v=a.y,h=v===void 0?0:v,g=l.useRef();if(!e||!e.points)return null;var m={position:"absolute"};if(e.autoArrow!==!1){var f=e.points[0],y=e.points[1],c=f[0],C=f[1],w=y[0],N=y[1];c===w||!["t","b"].includes(c)?m.top=h:c==="t"?m.top=0:m.bottom=0,C===N||!["l","r"].includes(C)?m.left=d:C==="l"?m.left=0:m.right=0}return l.createElement("div",{ref:g,className:ye("".concat(t,"-arrow"),o),style:m},s)}function ei(r){var t=r.prefixCls,e=r.open,n=r.zIndex,a=r.mask,i=r.motion;return a?l.createElement(kn,ie({},i,{motionAppear:!0,visible:e,removeOnLeave:!0}),function(o){var s=o.className;return l.createElement("div",{style:{zIndex:n},className:ye("".concat(t,"-mask"),s)})}):null}var ti=l.memo(function(r){var t=r.children;return t},function(r,t){return t.cache}),ri=l.forwardRef(function(r,t){var e=r.popup,n=r.className,a=r.prefixCls,i=r.style,o=r.target,s=r.onVisibleChanged,u=r.open,d=r.keepDom,v=r.fresh,h=r.onClick,g=r.mask,m=r.arrow,f=r.arrowPos,y=r.align,c=r.motion,C=r.maskMotion,w=r.forceRender,N=r.getPopupContainer,b=r.autoDestroy,E=r.portal,S=r.zIndex,D=r.onMouseEnter,p=r.onMouseLeave,x=r.onPointerEnter,T=r.onPointerDownCapture,q=r.ready,j=r.offsetX,V=r.offsetY,$=r.offsetR,O=r.offsetB,Q=r.onAlign,U=r.onPrepare,_=r.stretch,A=r.targetWidth,I=r.targetHeight,Z=typeof e=="function"?e():e,fe=u||d,ee=(N==null?void 0:N.length)>0,B=l.useState(!N||!ee),oe=L(B,2),Te=oe[0],$e=oe[1];if(ne(function(){!Te&&ee&&o&&$e(!0)},[Te,ee,o]),!Te)return null;var Y="auto",de={left:"-1000vw",top:"-1000vh",right:Y,bottom:Y};if(q||!u){var Oe,Je=y.points,he=y.dynamicInset||((Oe=y._experimental)===null||Oe===void 0?void 0:Oe.dynamicInset),pe=he&&Je[0][1]==="r",me=he&&Je[0][0]==="b";pe?(de.right=$,de.left=Y):(de.left=j,de.right=Y),me?(de.bottom=O,de.top=Y):(de.top=V,de.bottom=Y)}var se={};return _&&(_.includes("height")&&I?se.height=I:_.includes("minHeight")&&I&&(se.minHeight=I),_.includes("width")&&A?se.width=A:_.includes("minWidth")&&A&&(se.minWidth=A)),u||(se.pointerEvents="none"),l.createElement(E,{open:w||fe,getContainer:N&&function(){return N(o)},autoDestroy:b},l.createElement(ei,{prefixCls:a,open:u,zIndex:S,mask:g,motion:C}),l.createElement(Pn,{onResize:Q,disabled:!u},function(Ze){return l.createElement(kn,ie({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:w,leavedClassName:"".concat(a,"-hidden")},c,{onAppearPrepare:U,onEnterPrepare:U,visible:u,onVisibleChanged:function(Ce){var De;c==null||(De=c.onVisibleChanged)===null||De===void 0||De.call(c,Ce),s(Ce)}}),function(Be,Ce){var De=Be.className,Ee=Be.style,ue=ye(a,De,n);return l.createElement("div",{ref:Yn(Ze,t,Ce),className:ue,style:F(F(F(F({"--arrow-x":"".concat(f.x||0,"px"),"--arrow-y":"".concat(f.y||0,"px")},de),se),Ee),{},{boxSizing:"border-box",zIndex:S},i),onMouseEnter:D,onMouseLeave:p,onPointerEnter:x,onClick:h,onPointerDownCapture:T},m&&l.createElement(Xa,{prefixCls:a,arrow:m,arrowPos:f,align:y}),l.createElement(ti,{cache:!u&&!v},Z))})}))}),ni=l.forwardRef(function(r,t){var e=r.children,n=r.getTriggerDOMNode,a=yr(e),i=l.useCallback(function(s){Xn(t,n?n(s):s)},[n]),o=Nn(i,ea(e));return a?l.cloneElement(e,{ref:o}):e}),fn=l.createContext(null);function vn(r){return r?Array.isArray(r)?r:[r]:[]}function ai(r,t,e,n){return l.useMemo(function(){var a=vn(e??t),i=vn(n??t),o=new Set(a),s=new Set(i);return r&&(o.has("hover")&&(o.delete("hover"),o.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[o,s]},[r,t,e,n])}function ii(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],e=arguments.length>2?arguments[2]:void 0;return e?r[0]===t[0]:r[0]===t[0]&&r[1]===t[1]}function oi(r,t,e,n){for(var a=e.points,i=Object.keys(r),o=0;o<i.length;o+=1){var s,u=i[o];if(ii((s=r[u])===null||s===void 0?void 0:s.points,a,n))return"".concat(t,"-placement-").concat(u)}return""}function dn(r,t,e,n){return t||(e?{motionName:"".concat(r,"-").concat(e)}:n?{motionName:n}:null)}function Kt(r){return r.ownerDocument.defaultView}function Qr(r){for(var t=[],e=r==null?void 0:r.parentElement,n=["hidden","scroll","clip","auto"];e;){var a=Kt(e).getComputedStyle(e),i=a.overflowX,o=a.overflowY,s=a.overflow;[i,o,s].some(function(u){return n.includes(u)})&&t.push(e),e=e.parentElement}return t}function Qt(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(r)?t:r}function Vt(r){return Qt(parseFloat(r),0)}function hn(r,t){var e=F({},r);return(t||[]).forEach(function(n){if(!(n instanceof HTMLBodyElement||n instanceof HTMLHtmlElement)){var a=Kt(n).getComputedStyle(n),i=a.overflow,o=a.overflowClipMargin,s=a.borderTopWidth,u=a.borderBottomWidth,d=a.borderLeftWidth,v=a.borderRightWidth,h=n.getBoundingClientRect(),g=n.offsetHeight,m=n.clientHeight,f=n.offsetWidth,y=n.clientWidth,c=Vt(s),C=Vt(u),w=Vt(d),N=Vt(v),b=Qt(Math.round(h.width/f*1e3)/1e3),E=Qt(Math.round(h.height/g*1e3)/1e3),S=(f-y-w-N)*b,D=(g-m-c-C)*E,p=c*E,x=C*E,T=w*b,q=N*b,j=0,V=0;if(i==="clip"){var $=Vt(o);j=$*b,V=$*E}var O=h.x+T-j,Q=h.y+p-V,U=O+h.width+2*j-T-q-S,_=Q+h.height+2*V-p-x-D;e.left=Math.max(e.left,O),e.top=Math.max(e.top,Q),e.right=Math.min(e.right,U),e.bottom=Math.min(e.bottom,_)}}),e}function mn(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e="".concat(t),n=e.match(/^(.*)\%$/);return n?r*(parseFloat(n[1])/100):parseFloat(e)}function gn(r,t){var e=t||[],n=L(e,2),a=n[0],i=n[1];return[mn(r.width,a),mn(r.height,i)]}function yn(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[r[0],r[1]]}function Rt(r,t){var e=t[0],n=t[1],a,i;return e==="t"?i=r.y:e==="b"?i=r.y+r.height:i=r.y+r.height/2,n==="l"?a=r.x:n==="r"?a=r.x+r.width:a=r.x+r.width/2,{x:a,y:i}}function st(r,t){var e={t:"b",b:"t",l:"r",r:"l"};return r.map(function(n,a){return a===t?e[n]||"c":n}).join("")}function si(r,t,e,n,a,i,o){var s=l.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[n]||{}}),u=L(s,2),d=u[0],v=u[1],h=l.useRef(0),g=l.useMemo(function(){return t?Qr(t):[]},[t]),m=l.useRef({}),f=function(){m.current={}};r||f();var y=qe(function(){if(t&&e&&r){let xe=function(Nt,it){var ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ut,Bt=B.x+Nt,vr=B.y+it,_r=Bt+pe,zr=vr+he,qr=Math.max(Bt,ot.left),M=Math.max(vr,ot.top),k=Math.min(_r,ot.right),J=Math.min(zr,ot.bottom);return Math.max(0,(k-qr)*(J-M))},fr=function(){ft=B.y+G,vt=ft+he,Ye=B.x+W,bt=Ye+pe};var w,N,b,E,S=t,D=S.ownerDocument,p=Kt(S),x=p.getComputedStyle(S),T=x.width,q=x.height,j=x.position,V=S.style.left,$=S.style.top,O=S.style.right,Q=S.style.bottom,U=S.style.overflow,_=F(F({},a[n]),i),A=D.createElement("div");(w=S.parentElement)===null||w===void 0||w.appendChild(A),A.style.left="".concat(S.offsetLeft,"px"),A.style.top="".concat(S.offsetTop,"px"),A.style.position=j,A.style.height="".concat(S.offsetHeight,"px"),A.style.width="".concat(S.offsetWidth,"px"),S.style.left="0",S.style.top="0",S.style.right="auto",S.style.bottom="auto",S.style.overflow="hidden";var I;if(Array.isArray(e))I={x:e[0],y:e[1],width:0,height:0};else{var Z,fe,ee=e.getBoundingClientRect();ee.x=(Z=ee.x)!==null&&Z!==void 0?Z:ee.left,ee.y=(fe=ee.y)!==null&&fe!==void 0?fe:ee.top,I={x:ee.x,y:ee.y,width:ee.width,height:ee.height}}var B=S.getBoundingClientRect();B.x=(N=B.x)!==null&&N!==void 0?N:B.left,B.y=(b=B.y)!==null&&b!==void 0?b:B.top;var oe=D.documentElement,Te=oe.clientWidth,$e=oe.clientHeight,Y=oe.scrollWidth,de=oe.scrollHeight,Oe=oe.scrollTop,Je=oe.scrollLeft,he=B.height,pe=B.width,me=I.height,se=I.width,Ze={left:0,top:0,right:Te,bottom:$e},Be={left:-Je,top:-Oe,right:Y-Je,bottom:de-Oe},Ce=_.htmlRegion,De="visible",Ee="visibleFirst";Ce!=="scroll"&&Ce!==Ee&&(Ce=De);var ue=Ce===Ee,It=hn(Be,g),H=hn(Ze,g),ut=Ce===De?H:It,Ie=ue?H:ut;S.style.left="auto",S.style.top="auto",S.style.right="0",S.style.bottom="0";var le=S.getBoundingClientRect();S.style.left=V,S.style.top=$,S.style.right=O,S.style.bottom=Q,S.style.overflow=U,(E=S.parentElement)===null||E===void 0||E.removeChild(A);var Se=Qt(Math.round(pe/parseFloat(T)*1e3)/1e3),be=Qt(Math.round(he/parseFloat(q)*1e3)/1e3);if(Se===0||be===0||Hr(e)&&!ta(e))return;var yt=_.offset,Ft=_.targetOffset,lt=gn(B,yt),Ne=L(lt,2),Me=Ne[0],te=Ne[1],xt=gn(I,Ft),ve=L(xt,2),K=ve[0],rt=ve[1];I.x-=K,I.y-=rt;var wr=_.points||[],Zt=L(wr,2),Er=Zt[0],Sr=Zt[1],Ve=yn(Sr),Re=yn(Er),Lt=Rt(I,Ve),ge=Rt(B,Re),nt=F({},_),W=Lt.x-ge.x+Me,G=Lt.y-ge.y+te,_e=xe(W,G),ct=xe(W,G,H),Tt=Rt(I,["t","l"]),Fe=Rt(B,["t","l"]),Yt=Rt(I,["b","r"]),_t=Rt(B,["b","r"]),at=_.overflow||{},Xt=at.adjustX,Nr=at.adjustY,zt=at.shiftX,Ct=at.shiftY,qt=function(it){return typeof it=="boolean"?it:it>=0},ft,vt,Ye,bt;fr();var dt=qt(Nr),er=Re[0]===Ve[0];if(dt&&Re[0]==="t"&&(vt>Ie.bottom||m.current.bt)){var ce=G;er?ce-=he-me:ce=Tt.y-_t.y-te;var tr=xe(W,ce),Mr=xe(W,ce,H);tr>_e||tr===_e&&(!ue||Mr>=ct)?(m.current.bt=!0,G=ce,te=-te,nt.points=[st(Re,0),st(Ve,0)]):m.current.bt=!1}if(dt&&Re[0]==="b"&&(ft<Ie.top||m.current.tb)){var ht=G;er?ht+=he-me:ht=Yt.y-Fe.y-te;var rr=xe(W,ht),Rr=xe(W,ht,H);rr>_e||rr===_e&&(!ue||Rr>=ct)?(m.current.tb=!0,G=ht,te=-te,nt.points=[st(Re,0),st(Ve,0)]):m.current.tb=!1}var nr=qt(Xt),ar=Re[1]===Ve[1];if(nr&&Re[1]==="l"&&(bt>Ie.right||m.current.rl)){var mt=W;ar?mt-=pe-se:mt=Tt.x-_t.x-Me;var ir=xe(mt,G),wt=xe(mt,G,H);ir>_e||ir===_e&&(!ue||wt>=ct)?(m.current.rl=!0,W=mt,Me=-Me,nt.points=[st(Re,1),st(Ve,1)]):m.current.rl=!1}if(nr&&Re[1]==="r"&&(Ye<Ie.left||m.current.lr)){var Xe=W;ar?Xe+=pe-se:Xe=Yt.x-Fe.x-Me;var or=xe(Xe,G),sr=xe(Xe,G,H);or>_e||or===_e&&(!ue||sr>=ct)?(m.current.lr=!0,W=Xe,Me=-Me,nt.points=[st(Re,1),st(Ve,1)]):m.current.lr=!1}fr();var He=zt===!0?0:zt;typeof He=="number"&&(Ye<H.left&&(W-=Ye-H.left-Me,I.x+se<H.left+He&&(W+=I.x-H.left+se-He)),bt>H.right&&(W-=bt-H.right-Me,I.x>H.right-He&&(W+=I.x-H.right+He)));var ze=Ct===!0?0:Ct;typeof ze=="number"&&(ft<H.top&&(G-=ft-H.top-te,I.y+me<H.top+ze&&(G+=I.y-H.top+me-ze)),vt>H.bottom&&(G-=vt-H.bottom-te,I.y>H.bottom-ze&&(G+=I.y-H.bottom+ze)));var Et=B.x+W,St=Et+pe,Ue=B.y+G,Pr=Ue+he,ur=I.x,kr=ur+se,$t=I.y,Ar=$t+me,pr=Math.max(Et,ur),Dr=Math.min(St,kr),lr=(pr+Dr)/2,Ir=lr-Et,Fr=Math.max(Ue,$t),cr=Math.min(Pr,Ar),xr=(Fr+cr)/2,Lr=xr-Ue;o==null||o(t,nt);var Ot=le.right-B.x-(W+B.width),We=le.bottom-B.y-(G+B.height);Se===1&&(W=Math.round(W),Ot=Math.round(Ot)),be===1&&(G=Math.round(G),We=Math.round(We));var Tr={ready:!0,offsetX:W/Se,offsetY:G/be,offsetR:Ot/Se,offsetB:We/be,arrowX:Ir/Se,arrowY:Lr/be,scaleX:Se,scaleY:be,align:nt};v(Tr)}}),c=function(){h.current+=1;var N=h.current;Promise.resolve().then(function(){h.current===N&&y()})},C=function(){v(function(N){return F(F({},N),{},{ready:!1})})};return ne(C,[n]),ne(function(){r||C()},[r]),[d.ready,d.offsetX,d.offsetY,d.offsetR,d.offsetB,d.arrowX,d.arrowY,d.scaleX,d.scaleY,d.align,c]}function ui(r,t,e,n,a){ne(function(){if(r&&t&&e){let h=function(){n(),a()};var i=t,o=e,s=Qr(i),u=Qr(o),d=Kt(o),v=new Set([d].concat(Ge(s),Ge(u)));return v.forEach(function(g){g.addEventListener("scroll",h,{passive:!0})}),d.addEventListener("resize",h,{passive:!0}),n(),function(){v.forEach(function(g){g.removeEventListener("scroll",h),d.removeEventListener("resize",h)})}}},[r,t,e])}function li(r,t,e,n,a,i,o,s){var u=l.useRef(r);u.current=r;var d=l.useRef(!1);l.useEffect(function(){if(t&&n&&(!a||i)){var h=function(){d.current=!1},g=function(c){var C;u.current&&!o(((C=c.composedPath)===null||C===void 0||(C=C.call(c))===null||C===void 0?void 0:C[0])||c.target)&&!d.current&&s(!1)},m=Kt(n);m.addEventListener("pointerdown",h,!0),m.addEventListener("mousedown",g,!0),m.addEventListener("contextmenu",g,!0);var f=Ur(e);return f&&(f.addEventListener("mousedown",g,!0),f.addEventListener("contextmenu",g,!0)),function(){m.removeEventListener("pointerdown",h,!0),m.removeEventListener("mousedown",g,!0),m.removeEventListener("contextmenu",g,!0),f&&(f.removeEventListener("mousedown",g,!0),f.removeEventListener("contextmenu",g,!0))}}},[t,e,n,a,i]);function v(){d.current=!0}return v}var ci=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function fi(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Cr,t=l.forwardRef(function(e,n){var a=e.prefixCls,i=a===void 0?"rc-trigger-popup":a,o=e.children,s=e.action,u=s===void 0?"hover":s,d=e.showAction,v=e.hideAction,h=e.popupVisible,g=e.defaultPopupVisible,m=e.onPopupVisibleChange,f=e.afterPopupVisibleChange,y=e.mouseEnterDelay,c=e.mouseLeaveDelay,C=c===void 0?.1:c,w=e.focusDelay,N=e.blurDelay,b=e.mask,E=e.maskClosable,S=E===void 0?!0:E,D=e.getPopupContainer,p=e.forceRender,x=e.autoDestroy,T=e.destroyPopupOnHide,q=e.popup,j=e.popupClassName,V=e.popupStyle,$=e.popupPlacement,O=e.builtinPlacements,Q=O===void 0?{}:O,U=e.popupAlign,_=e.zIndex,A=e.stretch,I=e.getPopupClassNameFromAlign,Z=e.fresh,fe=e.alignPoint,ee=e.onPopupClick,B=e.onPopupAlign,oe=e.arrow,Te=e.popupMotion,$e=e.maskMotion,Y=e.popupTransitionName,de=e.popupAnimation,Oe=e.maskTransitionName,Je=e.maskAnimation,he=e.className,pe=e.getTriggerDOMNode,me=pt(e,ci),se=x||T||!1,Ze=l.useState(!1),Be=L(Ze,2),Ce=Be[0],De=Be[1];ne(function(){De(ra())},[]);var Ee=l.useRef({}),ue=l.useContext(fn),It=l.useMemo(function(){return{registerSubPopup:function(k,J){Ee.current[k]=J,ue==null||ue.registerSubPopup(k,J)}}},[ue]),H=Mn(),ut=l.useState(null),Ie=L(ut,2),le=Ie[0],Se=Ie[1],be=l.useRef(null),yt=qe(function(M){be.current=M,Hr(M)&&le!==M&&Se(M),ue==null||ue.registerSubPopup(H,M)}),Ft=l.useState(null),lt=L(Ft,2),Ne=lt[0],Me=lt[1],te=l.useRef(null),xt=qe(function(M){Hr(M)&&Ne!==M&&(Me(M),te.current=M)}),ve=l.Children.only(o),K=(ve==null?void 0:ve.props)||{},rt={},wr=qe(function(M){var k,J,re=Ne;return(re==null?void 0:re.contains(M))||((k=Ur(re))===null||k===void 0?void 0:k.host)===M||M===re||(le==null?void 0:le.contains(M))||((J=Ur(le))===null||J===void 0?void 0:J.host)===M||M===le||Object.values(Ee.current).some(function(X){return(X==null?void 0:X.contains(M))||M===X})}),Zt=dn(i,Te,de,Y),Er=dn(i,$e,Je,Oe),Sr=l.useState(g||!1),Ve=L(Sr,2),Re=Ve[0],Lt=Ve[1],ge=h??Re,nt=qe(function(M){h===void 0&&Lt(M)});ne(function(){Lt(h||!1)},[h]);var W=l.useRef(ge);W.current=ge;var G=l.useRef([]);G.current=[];var _e=qe(function(M){var k;nt(M),((k=G.current[G.current.length-1])!==null&&k!==void 0?k:ge)!==M&&(G.current.push(M),m==null||m(M))}),ct=l.useRef(),Tt=function(){clearTimeout(ct.current)},Fe=function(k){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Tt(),J===0?_e(k):ct.current=setTimeout(function(){_e(k)},J*1e3)};l.useEffect(function(){return Tt},[]);var Yt=l.useState(!1),_t=L(Yt,2),at=_t[0],Xt=_t[1];ne(function(M){(!M||ge)&&Xt(!0)},[ge]);var Nr=l.useState(null),zt=L(Nr,2),Ct=zt[0],qt=zt[1],ft=l.useState(null),vt=L(ft,2),Ye=vt[0],bt=vt[1],dt=function(k){bt([k.clientX,k.clientY])},er=si(ge,le,fe&&Ye!==null?Ye:Ne,$,Q,U,B),ce=L(er,11),tr=ce[0],Mr=ce[1],ht=ce[2],rr=ce[3],Rr=ce[4],nr=ce[5],ar=ce[6],mt=ce[7],ir=ce[8],wt=ce[9],Xe=ce[10],or=ai(Ce,u,d,v),sr=L(or,2),He=sr[0],ze=sr[1],Et=He.has("click"),St=ze.has("click")||ze.has("contextMenu"),Ue=qe(function(){at||Xe()}),Pr=function(){W.current&&fe&&St&&Fe(!1)};ui(ge,Ne,le,Ue,Pr),ne(function(){Ue()},[Ye,$]),ne(function(){ge&&!(Q!=null&&Q[$])&&Ue()},[JSON.stringify(U)]);var ur=l.useMemo(function(){var M=oi(Q,i,wt,fe);return ye(M,I==null?void 0:I(wt))},[wt,I,Q,i,fe]);l.useImperativeHandle(n,function(){return{nativeElement:te.current,popupElement:be.current,forceAlign:Ue}});var kr=l.useState(0),$t=L(kr,2),Ar=$t[0],pr=$t[1],Dr=l.useState(0),lr=L(Dr,2),Ir=lr[0],Fr=lr[1],cr=function(){if(A&&Ne){var k=Ne.getBoundingClientRect();pr(k.width),Fr(k.height)}},xr=function(){cr(),Ue()},Lr=function(k){Xt(!1),Xe(),f==null||f(k)},Ot=function(){return new Promise(function(k){cr(),qt(function(){return k})})};ne(function(){Ct&&(Xe(),Ct(),qt(null))},[Ct]);function We(M,k,J,re){rt[M]=function(X){var dr;re==null||re(X),Fe(k,J);for(var $r=arguments.length,Xr=new Array($r>1?$r-1:0),hr=1;hr<$r;hr++)Xr[hr-1]=arguments[hr];(dr=K[M])===null||dr===void 0||dr.call.apply(dr,[K,X].concat(Xr))}}(Et||St)&&(rt.onClick=function(M){var k;W.current&&St?Fe(!1):!W.current&&Et&&(dt(M),Fe(!0));for(var J=arguments.length,re=new Array(J>1?J-1:0),X=1;X<J;X++)re[X-1]=arguments[X];(k=K.onClick)===null||k===void 0||k.call.apply(k,[K,M].concat(re))});var Tr=li(ge,St,Ne,le,b,S,wr,Fe),xe=He.has("hover"),fr=ze.has("hover"),Nt,it;xe&&(We("onMouseEnter",!0,y,function(M){dt(M)}),We("onPointerEnter",!0,y,function(M){dt(M)}),Nt=function(k){(ge||at)&&le!==null&&le!==void 0&&le.contains(k.target)&&Fe(!0,y)},fe&&(rt.onMouseMove=function(M){var k;(k=K.onMouseMove)===null||k===void 0||k.call(K,M)})),fr&&(We("onMouseLeave",!1,C),We("onPointerLeave",!1,C),it=function(){Fe(!1,C)}),He.has("focus")&&We("onFocus",!0,w),ze.has("focus")&&We("onBlur",!1,N),He.has("contextMenu")&&(rt.onContextMenu=function(M){var k;W.current&&ze.has("contextMenu")?Fe(!1):(dt(M),Fe(!0)),M.preventDefault();for(var J=arguments.length,re=new Array(J>1?J-1:0),X=1;X<J;X++)re[X-1]=arguments[X];(k=K.onContextMenu)===null||k===void 0||k.call.apply(k,[K,M].concat(re))}),he&&(rt.className=ye(K.className,he));var ot=F(F({},K),rt),Bt={},vr=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];vr.forEach(function(M){me[M]&&(Bt[M]=function(){for(var k,J=arguments.length,re=new Array(J),X=0;X<J;X++)re[X]=arguments[X];(k=ot[M])===null||k===void 0||k.call.apply(k,[ot].concat(re)),me[M].apply(me,re)})});var _r=l.cloneElement(ve,F(F({},ot),Bt)),zr={x:nr,y:ar},qr=oe?F({},oe!==!0?oe:{}):null;return l.createElement(l.Fragment,null,l.createElement(Pn,{disabled:!ge,ref:xt,onResize:xr},l.createElement(ni,{getTriggerDOMNode:pe},_r)),l.createElement(fn.Provider,{value:It},l.createElement(ri,{portal:r,ref:yt,prefixCls:i,popup:q,className:ye(j,ur),style:V,target:Ne,onMouseEnter:Nt,onMouseLeave:it,onPointerEnter:Nt,zIndex:_,open:ge,keepDom:at,fresh:Z,onClick:ee,onPointerDownCapture:Tr,mask:b,motion:Zt,maskMotion:Er,onVisibleChanged:Lr,onPrepare:Ot,forceRender:p,autoDestroy:se,getPopupContainer:D,align:wt,arrow:qr,arrowPos:zr,ready:tr,offsetX:Mr,offsetY:ht,offsetR:rr,offsetB:Rr,onAlign:Ue,stretch:A,targetWidth:Ar/mt,targetHeight:Ir/ir})))});return t}const vi=fi(Cr);function Kr(){return typeof BigInt=="function"}function _n(r){return!r&&r!==0&&!Number.isNaN(r)||!String(r).trim()}function Gt(r){var t=r.trim(),e=t.startsWith("-");e&&(t=t.slice(1)),t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),t.startsWith(".")&&(t="0".concat(t));var n=t||"0",a=n.split("."),i=a[0]||"0",o=a[1]||"0";i==="0"&&o==="0"&&(e=!1);var s=e?"-":"";return{negative:e,negativeStr:s,trimStr:n,integerStr:i,decimalStr:o,fullStr:"".concat(s).concat(n)}}function Yr(r){var t=String(r);return!Number.isNaN(Number(t))&&t.includes("e")}function Ut(r){var t=String(r);if(Yr(r)){var e=Number(t.slice(t.indexOf("e-")+2)),n=t.match(/\.(\d+)/);return n!=null&&n[1]&&(e+=n[1].length),e}return t.includes(".")&&qn(t)?t.length-t.indexOf(".")-1:0}function zn(r){var t=String(r);if(Yr(r)){if(r>Number.MAX_SAFE_INTEGER)return String(Kr()?BigInt(r).toString():Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return String(Kr()?BigInt(r).toString():Number.MIN_SAFE_INTEGER);t=r.toFixed(Ut(t))}return Gt(t).fullStr}function qn(r){return typeof r=="number"?!Number.isNaN(r):r?/^\s*-?\d+(\.\d+)?\s*$/.test(r)||/^\s*-?\d+\.\s*$/.test(r)||/^\s*-?\.\d+\s*$/.test(r):!1}var di=function(){function r(t){if(Qe(this,r),R(this,"origin",""),R(this,"negative",void 0),R(this,"integer",void 0),R(this,"decimal",void 0),R(this,"decimalLen",void 0),R(this,"empty",void 0),R(this,"nan",void 0),_n(t)){this.empty=!0;return}if(this.origin=String(t),t==="-"||Number.isNaN(t)){this.nan=!0;return}var e=t;if(Yr(e)&&(e=Number(e)),e=typeof e=="string"?e:zn(e),qn(e)){var n=Gt(e);this.negative=n.negative;var a=n.trimStr.split(".");this.integer=BigInt(a[0]);var i=a[1]||"0";this.decimal=BigInt(i),this.decimalLen=i.length}else this.nan=!0}return Ke(r,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(e){var n="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(e,"0"));return BigInt(n)}},{key:"negate",value:function(){var e=new r(this.toString());return e.negative=!e.negative,e}},{key:"cal",value:function(e,n,a){var i=Math.max(this.getDecimalStr().length,e.getDecimalStr().length),o=this.alignDecimal(i),s=e.alignDecimal(i),u=n(o,s).toString(),d=a(i),v=Gt(u),h=v.negativeStr,g=v.trimStr,m="".concat(h).concat(g.padStart(d+1,"0"));return new r("".concat(m.slice(0,-d),".").concat(m.slice(-d)))}},{key:"add",value:function(e){if(this.isInvalidate())return new r(e);var n=new r(e);return n.isInvalidate()?this:this.cal(n,function(a,i){return a+i},function(a){return a})}},{key:"multi",value:function(e){var n=new r(e);return this.isInvalidate()||n.isInvalidate()?new r(NaN):this.cal(n,function(a,i){return a*i},function(a){return a*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toString()===(e==null?void 0:e.toString())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return e?this.isInvalidate()?"":Gt("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),r}(),hi=function(){function r(t){if(Qe(this,r),R(this,"origin",""),R(this,"number",void 0),R(this,"empty",void 0),_n(t)){this.empty=!0;return}this.origin=String(t),this.number=Number(t)}return Ke(r,[{key:"negate",value:function(){return new r(-this.toNumber())}},{key:"add",value:function(e){if(this.isInvalidate())return new r(e);var n=Number(e);if(Number.isNaN(n))return this;var a=this.number+n;if(a>Number.MAX_SAFE_INTEGER)return new r(Number.MAX_SAFE_INTEGER);if(a<Number.MIN_SAFE_INTEGER)return new r(Number.MIN_SAFE_INTEGER);var i=Math.max(Ut(this.number),Ut(n));return new r(a.toFixed(i))}},{key:"multi",value:function(e){var n=Number(e);if(this.isInvalidate()||Number.isNaN(n))return new r(NaN);var a=this.number*n;if(a>Number.MAX_SAFE_INTEGER)return new r(Number.MAX_SAFE_INTEGER);if(a<Number.MIN_SAFE_INTEGER)return new r(Number.MIN_SAFE_INTEGER);var i=Math.max(Ut(this.number),Ut(n));return new r(a.toFixed(i))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toNumber()===(e==null?void 0:e.toNumber())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return e?this.isInvalidate()?"":zn(this.number):this.origin}}]),r}();function mi(r){return Kr()?new di(r):new hi(r)}function gi(r,t,e){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(r==="")return"";var a=Gt(r),i=a.negativeStr,o=a.integerStr,s=a.decimalStr,u="".concat(t).concat(s),d="".concat(i).concat(o);if(e>=0){var v=Number(s[e]);if(v>=5&&!n){var h=mi(r).add("".concat(i,"0.").concat("0".repeat(e)).concat(10-v));return gi(h.toString(),t,e,n)}return e===0?d:"".concat(d).concat(t).concat(s.padEnd(e,"0").slice(0,e))}return u===".0"?d:"".concat(d).concat(u)}var Dt,Jt;function we(r,t,e){if(t<0||t>31||r>>>t)throw new RangeError("Value out of range");for(var n=t-1;n>=0;n--)e.push(r>>>n&1)}function et(r,t){return(r>>>t&1)!=0}function Pe(r){if(!r)throw new Error("Assertion error")}var je=function(){function r(t,e){Qe(this,r),R(this,"modeBits",void 0),R(this,"numBitsCharCount",void 0),this.modeBits=t,this.numBitsCharCount=e}return Ke(r,[{key:"numCharCountBits",value:function(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}}]),r}();Dt=je;R(je,"NUMERIC",new Dt(1,[10,12,14]));R(je,"ALPHANUMERIC",new Dt(2,[9,11,13]));R(je,"BYTE",new Dt(4,[8,16,16]));R(je,"KANJI",new Dt(8,[8,10,12]));R(je,"ECI",new Dt(7,[0,0,0]));var Le=Ke(function r(t,e){Qe(this,r),R(this,"ordinal",void 0),R(this,"formatBits",void 0),this.ordinal=t,this.formatBits=e});Jt=Le;R(Le,"LOW",new Jt(0,1));R(Le,"MEDIUM",new Jt(1,0));R(Le,"QUARTILE",new Jt(2,3));R(Le,"HIGH",new Jt(3,2));var gt=function(){function r(t,e,n){if(Qe(this,r),R(this,"mode",void 0),R(this,"numChars",void 0),R(this,"bitData",void 0),this.mode=t,this.numChars=e,this.bitData=n,e<0)throw new RangeError("Invalid argument");this.bitData=n.slice()}return Ke(r,[{key:"getData",value:function(){return this.bitData.slice()}}],[{key:"makeBytes",value:function(e){var n=[],a=Pt(e),i;try{for(a.s();!(i=a.n()).done;){var o=i.value;we(o,8,n)}}catch(s){a.e(s)}finally{a.f()}return new r(je.BYTE,e.length,n)}},{key:"makeNumeric",value:function(e){if(!r.isNumeric(e))throw new RangeError("String contains non-numeric characters");for(var n=[],a=0;a<e.length;){var i=Math.min(e.length-a,3);we(parseInt(e.substring(a,a+i),10),i*3+1,n),a+=i}return new r(je.NUMERIC,e.length,n)}},{key:"makeAlphanumeric",value:function(e){if(!r.isAlphanumeric(e))throw new RangeError("String contains unencodable characters in alphanumeric mode");var n=[],a;for(a=0;a+2<=e.length;a+=2){var i=r.ALPHANUMERIC_CHARSET.indexOf(e.charAt(a))*45;i+=r.ALPHANUMERIC_CHARSET.indexOf(e.charAt(a+1)),we(i,11,n)}return a<e.length&&we(r.ALPHANUMERIC_CHARSET.indexOf(e.charAt(a)),6,n),new r(je.ALPHANUMERIC,e.length,n)}},{key:"makeSegments",value:function(e){return e==""?[]:r.isNumeric(e)?[r.makeNumeric(e)]:r.isAlphanumeric(e)?[r.makeAlphanumeric(e)]:[r.makeBytes(r.toUtf8ByteArray(e))]}},{key:"makeEci",value:function(e){var n=[];if(e<0)throw new RangeError("ECI assignment value out of range");if(e<128)we(e,8,n);else if(e<16384)we(2,2,n),we(e,14,n);else if(e<1e6)we(6,3,n),we(e,21,n);else throw new RangeError("ECI assignment value out of range");return new r(je.ECI,0,n)}},{key:"isNumeric",value:function(e){return r.NUMERIC_REGEX.test(e)}},{key:"isAlphanumeric",value:function(e){return r.ALPHANUMERIC_REGEX.test(e)}},{key:"getTotalBits",value:function(e,n){var a=0,i=Pt(e),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,u=s.mode.numCharCountBits(n);if(s.numChars>=1<<u)return 1/0;a+=4+u+s.bitData.length}}catch(d){i.e(d)}finally{i.f()}return a}},{key:"toUtf8ByteArray",value:function(e){for(var n=encodeURI(e),a=[],i=0;i<n.length;i++)n.charAt(i)!="%"?a.push(n.charCodeAt(i)):(a.push(parseInt(n.substring(i+1,i+3),16)),i+=2);return a}}]),r}();R(gt,"NUMERIC_REGEX",/^[0-9]*$/);R(gt,"ALPHANUMERIC_REGEX",/^[A-Z0-9 $%*+.\/:-]*$/);R(gt,"ALPHANUMERIC_CHARSET","0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:");var tt=function(){function r(t,e,n,a){Qe(this,r),R(this,"size",void 0),R(this,"mask",void 0),R(this,"modules",[]),R(this,"isFunction",[]),R(this,"version",void 0),R(this,"errorCorrectionLevel",void 0);var i=a;if(this.version=t,this.errorCorrectionLevel=e,t<r.MIN_VERSION||t>r.MAX_VERSION)throw new RangeError("Version value out of range");if(i<-1||i>7)throw new RangeError("Mask value out of range");this.size=t*4+17;for(var o=[],s=0;s<this.size;s++)o.push(!1);for(var u=0;u<this.size;u++)this.modules.push(o.slice()),this.isFunction.push(o.slice());this.drawFunctionPatterns();var d=this.addEccAndInterleave(n);if(this.drawCodewords(d),i==-1)for(var v=1e9,h=0;h<8;h++){this.applyMask(h),this.drawFormatBits(h);var g=this.getPenaltyScore();g<v&&(i=h,v=g),this.applyMask(h)}Pe(0<=i&&i<=7),this.mask=i,this.applyMask(i),this.drawFormatBits(i),this.isFunction=[]}return Ke(r,[{key:"getModule",value:function(e,n){return 0<=e&&e<this.size&&0<=n&&n<this.size&&this.modules[n][e]}},{key:"getModules",value:function(){return this.modules}},{key:"drawFunctionPatterns",value:function(){for(var e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var n=this.getAlignmentPatternPositions(),a=n.length,i=0;i<a;i++)for(var o=0;o<a;o++)i==0&&o==0||i==0&&o==a-1||i==a-1&&o==0||this.drawAlignmentPattern(n[i],n[o]);this.drawFormatBits(0),this.drawVersion()}},{key:"drawFormatBits",value:function(e){for(var n=this.errorCorrectionLevel.formatBits<<3|e,a=n,i=0;i<10;i++)a=a<<1^(a>>>9)*1335;var o=(n<<10|a)^21522;Pe(o>>>15==0);for(var s=0;s<=5;s++)this.setFunctionModule(8,s,et(o,s));this.setFunctionModule(8,7,et(o,6)),this.setFunctionModule(8,8,et(o,7)),this.setFunctionModule(7,8,et(o,8));for(var u=9;u<15;u++)this.setFunctionModule(14-u,8,et(o,u));for(var d=0;d<8;d++)this.setFunctionModule(this.size-1-d,8,et(o,d));for(var v=8;v<15;v++)this.setFunctionModule(8,this.size-15+v,et(o,v));this.setFunctionModule(8,this.size-8,!0)}},{key:"drawVersion",value:function(){if(!(this.version<7)){for(var e=this.version,n=0;n<12;n++)e=e<<1^(e>>>11)*7973;var a=this.version<<12|e;Pe(a>>>18==0);for(var i=0;i<18;i++){var o=et(a,i),s=this.size-11+i%3,u=Math.floor(i/3);this.setFunctionModule(s,u,o),this.setFunctionModule(u,s,o)}}}},{key:"drawFinderPattern",value:function(e,n){for(var a=-4;a<=4;a++)for(var i=-4;i<=4;i++){var o=Math.max(Math.abs(i),Math.abs(a)),s=e+i,u=n+a;0<=s&&s<this.size&&0<=u&&u<this.size&&this.setFunctionModule(s,u,o!=2&&o!=4)}}},{key:"drawAlignmentPattern",value:function(e,n){for(var a=-2;a<=2;a++)for(var i=-2;i<=2;i++)this.setFunctionModule(e+i,n+a,Math.max(Math.abs(i),Math.abs(a))!=1)}},{key:"setFunctionModule",value:function(e,n,a){this.modules[n][e]=a,this.isFunction[n][e]=!0}},{key:"addEccAndInterleave",value:function(e){var n=this.version,a=this.errorCorrectionLevel;if(e.length!=r.getNumDataCodewords(n,a))throw new RangeError("Invalid argument");for(var i=r.NUM_ERROR_CORRECTION_BLOCKS[a.ordinal][n],o=r.ECC_CODEWORDS_PER_BLOCK[a.ordinal][n],s=Math.floor(r.getNumRawDataModules(n)/8),u=i-s%i,d=Math.floor(s/i),v=[],h=r.reedSolomonComputeDivisor(o),g=0,m=0;g<i;g++){var f=e.slice(m,m+d-o+(g<u?0:1));m+=f.length;var y=r.reedSolomonComputeRemainder(f,h);g<u&&f.push(0),v.push(f.concat(y))}for(var c=[],C=function(b){v.forEach(function(E,S){(b!=d-o||S>=u)&&c.push(E[b])})},w=0;w<v[0].length;w++)C(w);return Pe(c.length==s),c}},{key:"drawCodewords",value:function(e){if(e.length!=Math.floor(r.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var n=0,a=this.size-1;a>=1;a-=2){a==6&&(a=5);for(var i=0;i<this.size;i++)for(var o=0;o<2;o++){var s=a-o,u=(a+1&2)==0,d=u?this.size-1-i:i;!this.isFunction[d][s]&&n<e.length*8&&(this.modules[d][s]=et(e[n>>>3],7-(n&7)),n++)}}Pe(n==e.length*8)}},{key:"applyMask",value:function(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(var n=0;n<this.size;n++)for(var a=0;a<this.size;a++){var i=void 0;switch(e){case 0:i=(a+n)%2==0;break;case 1:i=n%2==0;break;case 2:i=a%3==0;break;case 3:i=(a+n)%3==0;break;case 4:i=(Math.floor(a/3)+Math.floor(n/2))%2==0;break;case 5:i=a*n%2+a*n%3==0;break;case 6:i=(a*n%2+a*n%3)%2==0;break;case 7:i=((a+n)%2+a*n%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[n][a]&&i&&(this.modules[n][a]=!this.modules[n][a])}}},{key:"getPenaltyScore",value:function(){for(var e=0,n=0;n<this.size;n++){for(var a=!1,i=0,o=[0,0,0,0,0,0,0],s=0;s<this.size;s++)this.modules[n][s]==a?(i++,i==5?e+=r.PENALTY_N1:i>5&&e++):(this.finderPenaltyAddHistory(i,o),a||(e+=this.finderPenaltyCountPatterns(o)*r.PENALTY_N3),a=this.modules[n][s],i=1);e+=this.finderPenaltyTerminateAndCount(a,i,o)*r.PENALTY_N3}for(var u=0;u<this.size;u++){for(var d=!1,v=0,h=[0,0,0,0,0,0,0],g=0;g<this.size;g++)this.modules[g][u]==d?(v++,v==5?e+=r.PENALTY_N1:v>5&&e++):(this.finderPenaltyAddHistory(v,h),d||(e+=this.finderPenaltyCountPatterns(h)*r.PENALTY_N3),d=this.modules[g][u],v=1);e+=this.finderPenaltyTerminateAndCount(d,v,h)*r.PENALTY_N3}for(var m=0;m<this.size-1;m++)for(var f=0;f<this.size-1;f++){var y=this.modules[m][f];y==this.modules[m][f+1]&&y==this.modules[m+1][f]&&y==this.modules[m+1][f+1]&&(e+=r.PENALTY_N2)}var c=0,C=Pt(this.modules),w;try{for(C.s();!(w=C.n()).done;){var N=w.value;c=N.reduce(function(S,D){return S+(D?1:0)},c)}}catch(S){C.e(S)}finally{C.f()}var b=this.size*this.size,E=Math.ceil(Math.abs(c*20-b*10)/b)-1;return Pe(0<=E&&E<=9),e+=E*r.PENALTY_N4,Pe(0<=e&&e<=2568888),e}},{key:"getAlignmentPatternPositions",value:function(){if(this.version==1)return[];for(var e=Math.floor(this.version/7)+2,n=this.version==32?26:Math.ceil((this.version*4+4)/(e*2-2))*2,a=[6],i=this.size-7;a.length<e;i-=n)a.splice(1,0,i);return a}},{key:"finderPenaltyCountPatterns",value:function(e){var n=e[1];Pe(n<=this.size*3);var a=n>0&&e[2]==n&&e[3]==n*3&&e[4]==n&&e[5]==n;return(a&&e[0]>=n*4&&e[6]>=n?1:0)+(a&&e[6]>=n*4&&e[0]>=n?1:0)}},{key:"finderPenaltyTerminateAndCount",value:function(e,n,a){var i=n;return e&&(this.finderPenaltyAddHistory(i,a),i=0),i+=this.size,this.finderPenaltyAddHistory(i,a),this.finderPenaltyCountPatterns(a)}},{key:"finderPenaltyAddHistory",value:function(e,n){var a=e;n[0]==0&&(a+=this.size),n.pop(),n.unshift(a)}}],[{key:"encodeText",value:function(e,n){var a=gt.makeSegments(e);return r.encodeSegments(a,n)}},{key:"encodeBinary",value:function(e,n){var a=gt.makeBytes(e);return r.encodeSegments([a],n)}},{key:"encodeSegments",value:function(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:40,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;if(!(r.MIN_VERSION<=a&&a<=i&&i<=r.MAX_VERSION)||o<-1||o>7)throw new RangeError("Invalid value");var u,d;for(u=a;;u++){var v=r.getNumDataCodewords(u,n)*8,h=gt.getTotalBits(e,u);if(h<=v){d=h;break}if(u>=i)throw new RangeError("Data too long")}for(var g=n,m=0,f=[Le.MEDIUM,Le.QUARTILE,Le.HIGH];m<f.length;m++){var y=f[m];s&&d<=r.getNumDataCodewords(u,y)*8&&(g=y)}var c=[],C=Pt(e),w;try{for(C.s();!(w=C.n()).done;){var N=w.value;we(N.mode.modeBits,4,c),we(N.numChars,N.mode.numCharCountBits(u),c);var b=Pt(N.getData()),E;try{for(b.s();!(E=b.n()).done;){var S=E.value;c.push(S)}}catch(T){b.e(T)}finally{b.f()}}}catch(T){C.e(T)}finally{C.f()}Pe(c.length==d);var D=r.getNumDataCodewords(u,g)*8;Pe(c.length<=D),we(0,Math.min(4,D-c.length),c),we(0,(8-c.length%8)%8,c),Pe(c.length%8==0);for(var p=236;c.length<D;p^=253)we(p,8,c);for(var x=[];x.length*8<c.length;)x.push(0);return c.forEach(function(T,q){return x[q>>>3]|=T<<7-(q&7)}),new r(u,g,x,o)}},{key:"getNumRawDataModules",value:function(e){if(e<r.MIN_VERSION||e>r.MAX_VERSION)throw new RangeError("Version number out of range");var n=(16*e+128)*e+64;if(e>=2){var a=Math.floor(e/7)+2;n-=(25*a-10)*a-55,e>=7&&(n-=36)}return Pe(208<=n&&n<=29648),n}},{key:"getNumDataCodewords",value:function(e,n){return Math.floor(r.getNumRawDataModules(e)/8)-r.ECC_CODEWORDS_PER_BLOCK[n.ordinal][e]*r.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][e]}},{key:"reedSolomonComputeDivisor",value:function(e){if(e<1||e>255)throw new RangeError("Degree out of range");for(var n=[],a=0;a<e-1;a++)n.push(0);n.push(1);for(var i=1,o=0;o<e;o++){for(var s=0;s<n.length;s++)n[s]=r.reedSolomonMultiply(n[s],i),s+1<n.length&&(n[s]^=n[s+1]);i=r.reedSolomonMultiply(i,2)}return n}},{key:"reedSolomonComputeRemainder",value:function(e,n){var a=n.map(function(){return 0}),i=Pt(e),o;try{var s=function(){var d=o.value,v=d^a.shift();a.push(0),n.forEach(function(h,g){return a[g]^=r.reedSolomonMultiply(h,v)})};for(i.s();!(o=i.n()).done;)s()}catch(u){i.e(u)}finally{i.f()}return a}},{key:"reedSolomonMultiply",value:function(e,n){if(e>>>8||n>>>8)throw new RangeError("Byte out of range");for(var a=0,i=7;i>=0;i--)a=a<<1^(a>>>7)*285,a^=(n>>>i&1)*e;return Pe(a>>>8==0),a}}]),r}();R(tt,"MIN_VERSION",1);R(tt,"MAX_VERSION",40);R(tt,"PENALTY_N1",3);R(tt,"PENALTY_N2",3);R(tt,"PENALTY_N3",40);R(tt,"PENALTY_N4",10);R(tt,"ECC_CODEWORDS_PER_BLOCK",[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]]);R(tt,"NUM_ERROR_CORRECTION_BLOCKS",[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]]);var yi={L:Le.LOW,M:Le.MEDIUM,Q:Le.QUARTILE,H:Le.HIGH},$n=128,On="L",Bn="#FFFFFF",Vn="#000000",Hn=!1,Un=1,Ci=4,bi=0,wi=.1;function Wn(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=[];return r.forEach(function(n,a){var i=null;n.forEach(function(o,s){if(!o&&i!==null){e.push("M".concat(i+t," ").concat(a+t,"h").concat(s-i,"v1H").concat(i+t,"z")),i=null;return}if(s===n.length-1){if(!o)return;i===null?e.push("M".concat(s+t,",").concat(a+t," h1v1H").concat(s+t,"z")):e.push("M".concat(i+t,",").concat(a+t," h").concat(s+1-i,"v1H").concat(i+t,"z"));return}o&&i===null&&(i=s)})}),e.join("")}function Gn(r,t){return r.slice().map(function(e,n){return n<t.y||n>=t.y+t.h?e:e.map(function(a,i){return i<t.x||i>=t.x+t.w?a:!1})})}function Ei(r,t,e,n){if(n==null)return null;var a=r.length+e*2,i=Math.floor(t*wi),o=a/t,s=(n.width||i)*o,u=(n.height||i)*o,d=n.x==null?r.length/2-s/2:n.x*o,v=n.y==null?r.length/2-u/2:n.y*o,h=n.opacity==null?1:n.opacity,g=null;if(n.excavate){var m=Math.floor(d),f=Math.floor(v),y=Math.ceil(s+d-m),c=Math.ceil(u+v-f);g={x:m,y:f,w:y,h:c}}var C=n.crossOrigin;return{x:d,y:v,h:u,w:s,excavation:g,opacity:h,crossOrigin:C}}function Si(r,t){return t!=null?Math.floor(t):r?Ci:bi}var Ni=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function jn(r){var t=r.value,e=r.level,n=r.minVersion,a=r.includeMargin,i=r.marginSize,o=r.imageSettings,s=r.size,u=l.useMemo(function(){var f=gt.makeSegments(t);return tt.encodeSegments(f,yi[e],n)},[t,e,n]),d=l.useMemo(function(){var f=u.getModules(),y=Si(a,i),c=f.length+y*2,C=Ei(f,s,y,o);return{cells:f,margin:y,numCells:c,calculatedImageSettings:C}},[u,s,o,a,i]),v=d.cells,h=d.margin,g=d.numCells,m=d.calculatedImageSettings;return{qrcode:u,margin:h,cells:v,numCells:g,calculatedImageSettings:m}}var Mi=["value","size","level","bgColor","fgColor","includeMargin","minVersion","marginSize","style","imageSettings"],Ri=P.forwardRef(function(t,e){var n=t.value,a=t.size,i=a===void 0?$n:a,o=t.level,s=o===void 0?On:o,u=t.bgColor,d=u===void 0?Bn:u,v=t.fgColor,h=v===void 0?Vn:v,g=t.includeMargin,m=g===void 0?Hn:g,f=t.minVersion,y=f===void 0?Un:f,c=t.marginSize,C=t.style,w=t.imageSettings,N=pt(t,Mi),b=w==null?void 0:w.src,E=l.useRef(null),S=l.useRef(null),D=l.useCallback(function(_){E.current=_,typeof e=="function"?e(_):e&&(e.current=_)},[e]),p=l.useState(!1),x=L(p,2),T=x[1],q=jn({value:n,level:s,minVersion:y,includeMargin:m,marginSize:c,imageSettings:w,size:i}),j=q.margin,V=q.cells,$=q.numCells,O=q.calculatedImageSettings;l.useEffect(function(){if(E.current!=null){var _=E.current,A=_.getContext("2d");if(!A)return;var I=V,Z=S.current,fe=O!=null&&Z!==null&&Z.complete&&Z.naturalHeight!==0&&Z.naturalWidth!==0;fe&&O.excavation!=null&&(I=Gn(V,O.excavation));var ee=window.devicePixelRatio||1;_.height=_.width=i*ee;var B=i/$*ee;A.scale(B,B),A.fillStyle=d,A.fillRect(0,0,$,$),A.fillStyle=h,Ni?A.fill(new Path2D(Wn(I,j))):V.forEach(function(oe,Te){oe.forEach(function($e,Y){$e&&A.fillRect(Y+j,Te+j,1,1)})}),O&&(A.globalAlpha=O.opacity),fe&&A.drawImage(Z,O.x+j,O.y+j,O.w,O.h)}}),l.useEffect(function(){T(!1)},[b]);var Q=F({height:i,width:i},C),U=null;return b!=null&&(U=P.createElement("img",{src:b,key:b,style:{display:"none"},onLoad:function(){T(!0)},ref:S,crossOrigin:O==null?void 0:O.crossOrigin})),P.createElement(P.Fragment,null,P.createElement("canvas",ie({style:Q,height:i,width:i,ref:D,role:"img"},N)),U)});Ri.displayName="QRCodeCanvas";var Pi=["value","size","level","bgColor","fgColor","includeMargin","minVersion","title","marginSize","imageSettings"],ki=P.forwardRef(function(t,e){var n=t.value,a=t.size,i=a===void 0?$n:a,o=t.level,s=o===void 0?On:o,u=t.bgColor,d=u===void 0?Bn:u,v=t.fgColor,h=v===void 0?Vn:v,g=t.includeMargin,m=g===void 0?Hn:g,f=t.minVersion,y=f===void 0?Un:f,c=t.title,C=t.marginSize,w=t.imageSettings,N=pt(t,Pi),b=jn({value:n,level:s,minVersion:y,includeMargin:m,marginSize:C,imageSettings:w,size:i}),E=b.margin,S=b.cells,D=b.numCells,p=b.calculatedImageSettings,x=S,T=null;w!=null&&p!=null&&(p.excavation!=null&&(x=Gn(S,p.excavation)),T=P.createElement("image",{href:w.src,height:p.h,width:p.w,x:p.x+E,y:p.y+E,preserveAspectRatio:"none",opacity:p.opacity,crossOrigin:p.crossOrigin}));var q=Wn(x,E);return P.createElement("svg",ie({height:i,width:i,viewBox:"0 0 ".concat(D," ").concat(D),ref:e,role:"img"},N),!!c&&P.createElement("title",null,c),P.createElement("path",{fill:d,d:"M0,0 h".concat(D,"v").concat(D,"H0z"),shapeRendering:"crispEdges"}),P.createElement("path",{fill:h,d:q,shapeRendering:"crispEdges"}),T)});ki.displayName="QRCodeSVG";function Ki(r){var t=l.createContext(void 0),e=function(a){var i=a.value,o=a.children,s=l.useRef(i);s.current=i;var u=l.useState(function(){return{getValue:function(){return s.current},listeners:new Set}}),d=L(u,1),v=d[0];return ne(function(){Rn.unstable_batchedUpdates(function(){v.listeners.forEach(function(h){h(i)})})},[i]),l.createElement(t.Provider,{value:v},o)};return{Context:t,Provider:e,defaultValue:r}}function Ji(r,t){var e=qe(typeof t=="function"?t:function(h){if(t===void 0)return h;if(!Array.isArray(t))return h[t];var g={};return t.forEach(function(m){g[m]=h[m]}),g}),n=l.useContext(r==null?void 0:r.Context),a=n||{},i=a.listeners,o=a.getValue,s=l.useRef();s.current=e(n?o():r==null?void 0:r.defaultValue);var u=l.useState({}),d=L(u,2),v=d[1];return ne(function(){if(!n)return;function h(g){var m=e(g);na(s.current,m,!0)||v({})}return i.add(h),function(){i.delete(h)}},[n]),s.current}function Zi(){var r=l.createContext(null);function t(){return l.useContext(r)}function e(a,i){var o=yr(a),s=function(d,v){var h=o?{ref:v}:{},g=l.useRef(0),m=l.useRef(d),f=t();return f!==null?l.createElement(a,ie({},d,h)):((!i||i(m.current,d))&&(g.current+=1),m.current=d,l.createElement(r.Provider,{value:g.current},l.createElement(a,ie({},d,h))))};return o?l.forwardRef(s):s}function n(a,i){var o=yr(a),s=function(d,v){var h=o?{ref:v}:{};return t(),l.createElement(a,ie({},d,h))};return o?l.memo(l.forwardRef(s),i):l.memo(s,i)}return{makeImmutable:e,responseImmutable:n,useImmutableMark:t}}function Cn(r){return r!==null&&ke(r)==="object"}function bn(r,t,e){if(r===!1||t===!1&&(!Cn(r)||!r.closeIcon))return null;var n=typeof t!="boolean"?t:void 0;if(Cn(r)){var a;return F(F({},r),{},{closeIcon:(a=r.closeIcon)!==null&&a!==void 0?a:n})}return e||r||t?{closeIcon:n}:"empty"}function Ai(r,t,e,n){return l.useMemo(function(){var a=bn(r,t,!1),i=bn(e,n,!0);return a!=="empty"?a:i},[e,n,r,t])}function pi(r){var t=window.innerWidth||document.documentElement.clientWidth,e=window.innerHeight||document.documentElement.clientHeight,n=r.getBoundingClientRect(),a=n.top,i=n.right,o=n.bottom,s=n.left;return a>=0&&s>=0&&i<=t&&o<=e}function Di(r,t,e){var n;return(n=e??t)!==null&&n!==void 0?n:r===null?"center":"bottom"}function Ii(r){return typeof r=="number"&&!Number.isNaN(r)}function Fi(r,t,e,n){var a=l.useState(void 0),i=L(a,2),o=i[0],s=i[1];ne(function(){var y=typeof r=="function"?r():r;s(y||null)});var u=l.useState(null),d=L(u,2),v=d[0],h=d[1],g=qe(function(){if(o){!pi(o)&&t&&o.scrollIntoView(n);var y=o.getBoundingClientRect(),c=y.left,C=y.top,w=y.width,N=y.height,b={left:c,top:C,width:w,height:N,radius:0};h(function(E){return JSON.stringify(E)!==JSON.stringify(b)?b:E})}else h(null)}),m=function(c){var C;return(C=Array.isArray(e==null?void 0:e.offset)?e==null?void 0:e.offset[c]:e==null?void 0:e.offset)!==null&&C!==void 0?C:6};ne(function(){return g(),window.addEventListener("resize",g),function(){window.removeEventListener("resize",g)}},[o,t,g]);var f=l.useMemo(function(){if(!v)return v;var y=m(0),c=m(1),C=Ii(e==null?void 0:e.radius)?e==null?void 0:e.radius:2;return{left:v.left-y,top:v.top-c,width:v.width+y*2,height:v.height+c*2,radius:C}},[v,e]);return[f,o]}var gr={fill:"transparent",pointerEvents:"auto"},xi=function(t){var e=t.prefixCls,n=t.rootClassName,a=t.pos,i=t.showMask,o=t.style,s=o===void 0?{}:o,u=t.fill,d=u===void 0?"rgba(0,0,0,0.5)":u,v=t.open,h=t.animated,g=t.zIndex,m=t.disabledInteraction,f=Mn(),y="".concat(e,"-mask-").concat(f),c=ke(h)==="object"?h==null?void 0:h.placeholder:h,C=typeof navigator<"u"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent),w=C?{width:"100%",height:"100%"}:{width:"100vw",height:"100vh"};return P.createElement(Cr,{open:v,autoLock:!0},P.createElement("div",{className:ye("".concat(e,"-mask"),n),style:F({position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:g,pointerEvents:a&&!m?"none":"auto"},s)},i?P.createElement("svg",{style:{width:"100%",height:"100%"}},P.createElement("defs",null,P.createElement("mask",{id:y},P.createElement("rect",ie({x:"0",y:"0"},w,{fill:"white"})),a&&P.createElement("rect",{x:a.left,y:a.top,rx:a.radius,width:a.width,height:a.height,fill:"black",className:c?"".concat(e,"-placeholder-animated"):""}))),P.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:d,mask:"url(#".concat(y,")")}),a&&P.createElement(P.Fragment,null,P.createElement("rect",ie({},gr,{x:"0",y:"0",width:"100%",height:a.top})),P.createElement("rect",ie({},gr,{x:"0",y:"0",width:a.left,height:"100%"})),P.createElement("rect",ie({},gr,{x:"0",y:a.top+a.height,width:"100%",height:"calc(100vh - ".concat(a.top+a.height,"px)")})),P.createElement("rect",ie({},gr,{x:a.left+a.width,y:"0",width:"calc(100vw - ".concat(a.left+a.width,"px)"),height:"100%"})))):null))},Li=[0,0],wn={left:{points:["cr","cl"],offset:[-8,0]},right:{points:["cl","cr"],offset:[8,0]},top:{points:["bc","tc"],offset:[0,-8]},bottom:{points:["tc","bc"],offset:[0,8]},topLeft:{points:["bl","tl"],offset:[0,-8]},leftTop:{points:["tr","tl"],offset:[-8,0]},topRight:{points:["br","tr"],offset:[0,-8]},rightTop:{points:["tl","tr"],offset:[8,0]},bottomRight:{points:["tr","br"],offset:[0,8]},rightBottom:{points:["bl","br"],offset:[8,0]},bottomLeft:{points:["tl","bl"],offset:[0,8]},leftBottom:{points:["br","bl"],offset:[-8,0]}};function Qn(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t={};return Object.keys(wn).forEach(function(e){t[e]=F(F({},wn[e]),{},{autoArrow:r,targetOffset:Li})}),t}Qn();function Ti(r){var t,e=r.prefixCls,n=r.current,a=r.total,i=r.title,o=r.description,s=r.onClose,u=r.onPrev,d=r.onNext,v=r.onFinish,h=r.className,g=r.closable,m=aa(g||{},!0),f=(t=g==null?void 0:g.closeIcon)!==null&&t!==void 0?t:l.createElement("span",{className:"".concat(e,"-close-x")},""),y=!!g;return l.createElement("div",{className:ye("".concat(e,"-content"),h)},l.createElement("div",{className:"".concat(e,"-inner")},y&&l.createElement("button",ie({type:"button",onClick:s,"aria-label":"Close"},m,{className:"".concat(e,"-close")}),f),l.createElement("div",{className:"".concat(e,"-header")},l.createElement("div",{className:"".concat(e,"-title")},i)),l.createElement("div",{className:"".concat(e,"-description")},o),l.createElement("div",{className:"".concat(e,"-footer")},l.createElement("div",{className:"".concat(e,"-sliders")},a>1?Ge(Array.from({length:a}).keys()).map(function(c,C){return l.createElement("span",{key:c,className:C===n?"active":""})}):null),l.createElement("div",{className:"".concat(e,"-buttons")},n!==0?l.createElement("button",{className:"".concat(e,"-prev-btn"),onClick:u},"Prev"):null,n===a-1?l.createElement("button",{className:"".concat(e,"-finish-btn"),onClick:v},"Finish"):l.createElement("button",{className:"".concat(e,"-next-btn"),onClick:d},"Next")))))}var _i=function(t){var e=t.current,n=t.renderPanel;return l.createElement(l.Fragment,null,typeof n=="function"?n(t,e):l.createElement(Ti,t))},zi=["prefixCls","steps","defaultCurrent","current","onChange","onClose","onFinish","open","mask","arrow","rootClassName","placement","renderPanel","gap","animated","scrollIntoViewOptions","zIndex","closeIcon","closable","builtinPlacements","disabledInteraction"],qi={left:"50%",top:"50%",width:1,height:1},En={block:"center",inline:"center"},Yi=function(t){var e=t.prefixCls,n=e===void 0?"rc-tour":e,a=t.steps,i=a===void 0?[]:a,o=t.defaultCurrent,s=t.current,u=t.onChange,d=t.onClose,v=t.onFinish,h=t.open,g=t.mask,m=g===void 0?!0:g,f=t.arrow,y=f===void 0?!0:f,c=t.rootClassName,C=t.placement,w=t.renderPanel,N=t.gap,b=t.animated,E=t.scrollIntoViewOptions,S=E===void 0?En:E,D=t.zIndex,p=D===void 0?1001:D,x=t.closeIcon,T=t.closable,q=t.builtinPlacements,j=t.disabledInteraction,V=pt(t,zi),$=l.useRef(),O=Vr(0,{value:s,defaultValue:o}),Q=L(O,2),U=Q[0],_=Q[1],A=Vr(void 0,{value:h,postState:function(K){return U<0||U>=i.length?!1:K??!0}}),I=L(A,2),Z=I[0],fe=I[1],ee=l.useState(Z),B=L(ee,2),oe=B[0],Te=B[1],$e=l.useRef(Z);ne(function(){Z&&($e.current||_(0),Te(!0)),$e.current=Z},[Z]);var Y=i[U]||{},de=Y.target,Oe=Y.placement,Je=Y.style,he=Y.arrow,pe=Y.className,me=Y.mask,se=Y.scrollIntoViewOptions,Ze=se===void 0?En:se,Be=Y.closeIcon,Ce=Y.closable,De=Ai(Ce,Be,T,x),Ee=Z&&(me??m),ue=Ze??S,It=Fi(de,h,N,ue),H=L(It,2),ut=H[0],Ie=H[1],le=Di(Ie,C,Oe),Se=Ie?typeof he>"u"?y:he:!1,be=ke(Se)==="object"?Se.pointAtCenter:!1;ne(function(){var ve;(ve=$.current)===null||ve===void 0||ve.forceAlign()},[be,U]);var yt=function(K){_(K),u==null||u(K)},Ft=l.useMemo(function(){return q?typeof q=="function"?q({arrowPointAtCenter:be}):q:Qn(be)},[q,be]);if(Ie===void 0||!oe)return null;var lt=function(){fe(!1),d==null||d(U)},Ne=function(){return l.createElement(_i,ie({arrow:Se,key:"content",prefixCls:n,total:i.length,renderPanel:w,onPrev:function(){yt(U-1)},onNext:function(){yt(U+1)},onClose:lt,current:U,onFinish:function(){lt(),v==null||v()}},i[U],{closable:De}))},Me=typeof Ee=="boolean"?Ee:!!Ee,te=typeof Ee=="boolean"?void 0:Ee,xt=function(K){return K||Ie||document.body};return l.createElement(l.Fragment,null,l.createElement(xi,{zIndex:p,prefixCls:n,pos:ut,showMask:Me,style:te==null?void 0:te.style,fill:te==null?void 0:te.color,open:Z,animated:b,rootClassName:c,disabledInteraction:j}),l.createElement(vi,ie({},V,{builtinPlacements:Ft,ref:$,popupStyle:Je,popupPlacement:le,popupVisible:Z,popupClassName:ye(c,pe),prefixCls:n,popup:Ne,forceRender:!1,destroyPopupOnHide:!0,zIndex:p,getTriggerDOMNode:xt,arrow:!!Se}),l.createElement(Cr,{open:Z,autoLock:!0},l.createElement("div",{className:ye(c,"".concat(n,"-target-placeholder")),style:F(F({},ut||qi),{},{position:"fixed",pointerEvents:"none"})}))))};P.Component;var $i={subtree:!0,childList:!0,attributeFilter:["style","class"]};function Xi(r,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$i;l.useEffect(function(){if(!(!jt()||!r)){var n,a=Array.isArray(r)?r:[r];return"MutationObserver"in window&&(n=new MutationObserver(t),a.forEach(function(i){n.observe(i,e)})),function(){var i,o;(i=n)===null||i===void 0||i.takeRecords(),(o=n)===null||o===void 0||o.disconnect()}}},[e,r])}export{At as C,Cr as P,Ri as Q,br as S,Yi as T,ca as a,Qi as b,ki as c,vi as d,Ut as e,gi as f,mi as g,Zi as h,Ki as i,Ji as j,zn as n,Gt as t,Xi as u,qn as v};
//# sourceMappingURL=@rc-component-DxyG_Y2B.js.map
